(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:n="",children:c,iconNode:d,...o},u)=>(0,t.createElement)("svg",{ref:u,...a,width:r,height:r,stroke:e,strokeWidth:i?24*Number(l)/Number(r):l,className:s("lucide",n),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(c)?c:[c]])),i=(e,a)=>{let i=(0,t.forwardRef)(({className:i,...n},c)=>(0,t.createElement)(l,{ref:c,iconNode:a,className:s(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...n}));return i.displayName=r(e),i};e.s(["default",()=>i],75254)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},3922,e=>{"use strict";e.i(29225);var t=e.i(72390);function r(){return(0,t.createBrowserClient)("https://bfjstgfcvbxlvvodqoxd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRjeHpicXBoZ25yYmJud3lvcWFmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcyNDkzOTgsImV4cCI6MjA4MjgyNTM5OH0.kQI94c9Kh8KymiadcozMDi5lHSpjQN33Hl7wmN3FED8")}e.s(["createClient",()=>r])},4012,e=>{"use strict";e.i(43476);var t=e.i(71645);e.i(3922);let r=(0,t.createContext)({user:null,session:null,isLoading:!0,signOut:async()=>{}});e.s(["useAuth",0,()=>(0,t.useContext)(r)])},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},31343,e=>{"use strict";let t=(0,e.i(75254).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);e.s(["Play",()=>t],31343)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},87130,e=>{"use strict";let t=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>t],87130)},78112,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(22016),a=e.i(4012),l=e.i(71689),i=e.i(78583),n=e.i(75254);let c=(0,n.default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);var d=e.i(55436);let o=(0,n.default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),u=(0,n.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),m=(0,n.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var x=e.i(87130),h=e.i(64659),g=e.i(31343);function p(){let{user:e}=(0,a.useAuth)(),[n,p]=(0,r.useState)([]),[f,b]=(0,r.useState)(!0),[y,j]=(0,r.useState)(""),[v,w]=(0,r.useState)("default"),[N,k]=(0,r.useState)("all"),[_,C]=(0,r.useState)(!1),[A,M]=(0,r.useState)(!1);(0,r.useEffect)(()=>{$()},[]),(0,r.useEffect)(()=>{let e=()=>{C(!1),M(!1)};if(_||A)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[_,A]);let $=async()=>{try{let e=await fetch("/api/admin/contents");if(e.ok){let t=await e.json();p(t.videos||[])}}catch(e){console.error("Error fetching videos:",e)}finally{b(!1)}},I=(0,r.useMemo)(()=>({total:n.length,articleDone:n.filter(e=>e.article_content&&e.article_content.trim()).length,articlePending:n.filter(e=>!e.article_content||!e.article_content.trim()).length,thumbnailDone:n.filter(e=>e.custom_thumbnail_url).length,thumbnailPending:n.filter(e=>!e.custom_thumbnail_url).length,resourceDone:n.filter(e=>e.resource_count>0).length,resourcePending:n.filter(e=>0===e.resource_count).length}),[n]),z=(0,r.useMemo)(()=>{let e=[...n];switch(y&&(e=e.filter(e=>e.title.toLowerCase().includes(y.toLowerCase()))),N){case"article-done":e=e.filter(e=>e.article_content&&e.article_content.trim());break;case"article-pending":e=e.filter(e=>!e.article_content||!e.article_content.trim());break;case"thumbnail-done":e=e.filter(e=>e.custom_thumbnail_url);break;case"thumbnail-pending":e=e.filter(e=>!e.custom_thumbnail_url);break;case"resource-done":e=e.filter(e=>e.resource_count>0);break;case"resource-pending":e=e.filter(e=>0===e.resource_count)}return"title-asc"===v?e.sort((e,t)=>e.title.localeCompare(t.title,"ja")):"title-desc"===v&&e.sort((e,t)=>t.title.localeCompare(e.title,"ja")),e},[n,y,N,v]),L={all:"ã™ã¹ã¦","article-done":"è¨˜äº‹ã‚ã‚Š","article-pending":"è¨˜äº‹ãªã—","thumbnail-done":"ã‚µãƒ ãƒã‚ã‚Š","thumbnail-pending":"ã‚µãƒ ãƒãªã—","resource-done":"è³‡æ–™ã‚ã‚Š","resource-pending":"è³‡æ–™ãªã—"},S={default:"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ","title-asc":"ã‚¿ã‚¤ãƒˆãƒ«æ˜‡é † (Aâ†’Z)","title-desc":"ã‚¿ã‚¤ãƒˆãƒ«é™é † (Zâ†’A)"};return e?f?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white border-b border-gray-200",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:(0,t.jsxs)(s.default,{href:"/admin",className:"text-gray-600 hover:text-gray-900 flex items-center gap-2",children:[(0,t.jsx)(l.ArrowLeft,{className:"w-4 h-4"}),"ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹"]})})}),(0,t.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"ðŸ“ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†"}),(0,t.jsxs)("p",{className:"text-gray-500",children:["å…¨",I.total,"ä»¶ã®å‹•ç”»"]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl px-4 py-3 shadow-sm flex items-center gap-3",children:[(0,t.jsx)(g.Play,{className:"w-5 h-5 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"ç·å‹•ç”»æ•°"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:I.total})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm mb-6",children:[(0,t.jsxs)("div",{className:"p-4 flex flex-wrap items-center gap-4",children:[(0,t.jsx)("div",{className:"flex-1 min-w-[200px] max-w-md",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>j(e.target.value),placeholder:"ã‚¿ã‚¤ãƒˆãƒ«ã§æ¤œç´¢...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:e=>{e.stopPropagation(),C(!_),M(!1)},className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50",children:[(0,t.jsx)(x.Filter,{className:"w-4 h-4"}),L[N],(0,t.jsx)(h.ChevronDown,{className:"w-4 h-4"})]}),_&&(0,t.jsx)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-[160px]",onClick:e=>e.stopPropagation(),children:Object.keys(L).map(e=>(0,t.jsx)("button",{onClick:()=>{k(e),C(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg ${N===e?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:L[e]},e))})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:e=>{e.stopPropagation(),M(!A),C(!1)},className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50",children:["title-asc"===v?(0,t.jsx)(u,{className:"w-4 h-4"}):"title-desc"===v?(0,t.jsx)(m,{className:"w-4 h-4"}):(0,t.jsx)(o,{className:"w-4 h-4"}),S[v],(0,t.jsx)(h.ChevronDown,{className:"w-4 h-4"})]}),A&&(0,t.jsx)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-[180px]",onClick:e=>e.stopPropagation(),children:Object.keys(S).map(e=>(0,t.jsx)("button",{onClick:()=>{w(e),M(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg ${v===e?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:S[e]},e))})]})]}),(0,t.jsxs)("div",{className:"px-4 pb-3 text-sm text-gray-500",children:[z.length,"ä»¶è¡¨ç¤º"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:0===z.length?(0,t.jsx)("div",{className:"bg-white rounded-xl p-8 text-center text-gray-500",children:"è©²å½“ã™ã‚‹å‹•ç”»ãŒã‚ã‚Šã¾ã›ã‚“"}):z.map(e=>{let r,a,l=!!(e.article_content&&e.article_content.trim()),n=!!e.custom_thumbnail_url,d=e.resource_count>0;return(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4",children:[(0,t.jsx)("div",{className:"w-40 h-24 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:(0,t.jsx)("img",{src:e.custom_thumbnail_url||e.thumbnail_url||((a=(r=e.video_url.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?]+)/))?r[1]:null)?`https://img.youtube.com/vi/${a}/maxresdefault.jpg`:"/placeholder-video.png"),alt:e.title,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:e.title}),(0,t.jsxs)(s.default,{href:`/videos/${e.video_id}`,target:"_blank",className:"inline-flex items-center gap-1 text-xs text-gray-500 hover:text-blue-600 mb-3",children:[(0,t.jsx)("span",{children:"å‹•ç”»è©³ç´°ãƒšãƒ¼ã‚¸ã§ç¢ºèª"}),(0,t.jsx)("span",{children:"â†—"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(s.default,{href:`/admin/videos/${e.video_id}/article`,className:`flex-1 flex flex-col items-center gap-1 py-3 rounded-lg border-2 transition ${l?"border-green-200 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[(0,t.jsx)(i.FileText,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs font-medium",children:"è¨˜äº‹ç·¨é›†"}),(0,t.jsx)("span",{className:`text-xs ${l?"text-green-600":"text-gray-400"}`,children:l?"âœ“ ä½œæˆæ¸ˆã¿":"â—‹ æœªä½œæˆ"})]}),(0,t.jsxs)(s.default,{href:`/admin/videos/${e.video_id}/thumbnail`,className:`flex-1 flex flex-col items-center gap-1 py-3 rounded-lg border-2 transition ${n?"border-green-200 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[(0,t.jsx)("span",{className:"text-lg",children:"ðŸ–¼"}),(0,t.jsx)("span",{className:"text-xs font-medium",children:"ã‚µãƒ ãƒå¤‰æ›´"}),(0,t.jsx)("span",{className:`text-xs ${n?"text-green-600":"text-gray-400"}`,children:n?"âœ“ è¨­å®šæ¸ˆã¿":"â—‹ æœªè¨­å®š"})]}),(0,t.jsxs)(s.default,{href:`/admin/videos/${e.video_id}/resources`,className:`flex-1 flex flex-col items-center gap-1 py-3 rounded-lg border-2 transition ${d?"border-green-200 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[(0,t.jsx)(c,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-xs font-medium",children:d?"è³‡æ–™ç·¨é›†":"è³‡æ–™è¿½åŠ "}),(0,t.jsx)("span",{className:`text-xs ${d?"text-green-600":"text-gray-400"}`,children:d?`âœ“ ${e.resource_count}ä»¶è¿½åŠ `:"â—‹ æœªè¿½åŠ "})]})]})]})]})},e.video_id)})})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™"})})}e.s(["default",()=>p],78112)}]);