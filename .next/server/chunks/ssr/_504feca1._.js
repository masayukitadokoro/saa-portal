module.exports=[77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},41379,a=>{"use strict";let b=(0,a.i(70106).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>b],41379)},12409,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(77156),e=a.i(41379),f=a.i(96221),g=a.i(13749),h=a.i(38246);function i(){let a,i,j,k,[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),B=(a=n.length>=8,i=n.length<=20,j=/[a-zA-Z]/.test(n),{minLength:a,maxLength:i,hasLetter:j,hasNumber:k=/[0-9]/.test(n),isValid:a&&i&&j&&k}),C=async a=>{if(a.preventDefault(),A(null),!l)return void A({type:"error",text:"現在のパスワードを入力してください"});if(!B.isValid)return void A({type:"error",text:"パスワードの要件を満たしていません"});if(n!==p)return void A({type:"error",text:"新しいパスワードが一致しません"});y(!0);try{let a=await fetch("/api/mypage/password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:l,newPassword:n})}),b=await a.json();a.ok?(A({type:"success",text:"パスワードを変更しました"}),m(""),o(""),q("")):A({type:"error",text:b.error||"パスワードの変更に失敗しました"})}catch(a){A({type:"error",text:"エラーが発生しました"})}finally{y(!1)}};return(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)(h.default,{href:"/mypage/settings/profile",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,b.jsx)(g.ChevronLeft,{className:"w-4 h-4 mr-1"}),"ユーザ情報"]}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"パスワード設定"}),z&&(0,b.jsx)("div",{className:`mb-6 p-4 rounded-lg ${"success"===z.type?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:z.text}),(0,b.jsxs)("form",{onSubmit:C,className:"max-w-md",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"現在のパスワード"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:r?"text":"password",value:l,onChange:a=>m(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-12",placeholder:"現在のパスワードを入力"}),(0,b.jsx)("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?(0,b.jsx)(e.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(d.Eye,{className:"w-5 h-5"})})]}),(0,b.jsx)("div",{className:"mt-2 text-right",children:(0,b.jsx)(h.default,{href:"/auth/reset-password",className:"text-sm text-blue-600 hover:underline",children:"パスワード未登録、または忘れた方はこちら"})})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"新しいパスワード"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:t?"text":"password",value:n,onChange:a=>o(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-12",placeholder:"新しいパスワードを入力"}),(0,b.jsx)("button",{type:"button",onClick:()=>u(!t),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t?(0,b.jsx)(e.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(d.Eye,{className:"w-5 h-5"})})]}),(0,b.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:(0,b.jsx)("p",{className:B.minLength&&B.maxLength?"text-green-600":"",children:"※半角英数含む8-20文字"})}),n&&(0,b.jsx)("div",{className:"mt-2 space-y-1",children:(0,b.jsxs)("div",{className:"flex gap-2 text-xs",children:[(0,b.jsx)("span",{className:B.minLength?"text-green-600":"text-gray-400",children:"✓ 8文字以上"}),(0,b.jsx)("span",{className:B.maxLength?"text-green-600":"text-gray-400",children:"✓ 20文字以下"}),(0,b.jsx)("span",{className:B.hasLetter?"text-green-600":"text-gray-400",children:"✓ 英字を含む"}),(0,b.jsx)("span",{className:B.hasNumber?"text-green-600":"text-gray-400",children:"✓ 数字を含む"})]})})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"新しいパスワード（確認用）"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:v?"text":"password",value:p,onChange:a=>q(a.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-12 ${p&&p!==n?"border-red-500":"border-gray-300"}`,placeholder:"新しいパスワードを入力（確認用）"}),(0,b.jsx)("button",{type:"button",onClick:()=>w(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v?(0,b.jsx)(e.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(d.Eye,{className:"w-5 h-5"})})]}),p&&p!==n&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:"パスワードが一致しません"})]}),(0,b.jsx)("button",{type:"submit",disabled:x||!B.isValid||n!==p,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-medium",children:x?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Loader2,{className:"w-5 h-5 animate-spin"}),"保存中..."]}):"保存する"})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=_504feca1._.js.map