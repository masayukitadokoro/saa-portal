{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/eye.ts","../../../../lib/formatTitle.ts","../../../../node_modules/lucide-react/src/icons/play.ts","../../../../node_modules/lucide-react/src/icons/chevron-right.ts","../../../../app/mypage/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('eye', __iconNode);\n\nexport default Eye;\n","/**\n * 動画タイトルを表示用にフォーマットする\n * \n * @param title - 元のタイトル（例: \"1-1_起業の科学新装版とは\"）\n * @param displayOrder - 連番（例: 1）\n * @returns フォーマット済みタイトル（例: \"1 起業の科学新装版とは\"）\n */\nexport function formatVideoTitle(title: string, displayOrder?: number | null): string {\n  if (!title) return '';\n  \n  // 番号部分（1-1_, 2-3_など）を削除して本文のみ取得\n  const textPart = title.replace(/^(\\d+(?:-\\d+)?)_/, '');\n  \n  // displayOrderがあれば連番を付ける\n  if (displayOrder) {\n    return `${displayOrder} ${textPart}`;\n  }\n  \n  // displayOrderがない場合は元の変換（アンダースコアをスペースに）\n  return title.replace(/^(\\d+(?:-\\d+)?)_/, '$1 ');\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z',\n      key: '10ikf1',\n    },\n  ],\n];\n\n/**\n * @component @name Play\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSA1YTIgMiAwIDAgMSAzLjAwOC0xLjcyOGwxMS45OTcgNi45OThhMiAyIDAgMCAxIC4wMDMgMy40NThsLTEyIDdBMiAyIDAgMCAxIDUgMTl6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/play\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Play = createLucideIcon('play', __iconNode);\n\nexport default Play;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm9 18 6-6-6-6', key: 'mthhwq' }]];\n\n/**\n * @component @name ChevronRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOSAxOCA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/chevron-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronRight = createLucideIcon('chevron-right', __iconNode);\n\nexport default ChevronRight;\n","'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { \n  History, \n  Bookmark, \n  ChevronRight, \n  Play,\n  User,\n  Eye\n} from 'lucide-react';\nimport { formatVideoTitle } from '@/lib/formatTitle';\n\ninterface VideoInfo {\n  video_id: string;\n  title: string;\n  thumbnail_url?: string;\n  custom_thumbnail_url?: string;\n  video_url?: string;\n  duration?: number;\n  view_count?: number;\n}\n\ninterface HistoryItem {\n  id: number;\n  video_id: string;\n  watched_at: string;\n  progress_seconds?: number;\n  video?: VideoInfo;\n}\n\ninterface BookmarkItem {\n  id?: number;\n  video_id: string;\n  created_at: string;\n  title?: string;\n  thumbnail_url?: string;\n  custom_thumbnail_url?: string;\n  video_url?: string;\n  duration?: number;\n  view_count?: number;\n}\n\ninterface UserProfile {\n  display_name?: string;\n  email?: string;\n  avatar_url?: string;\n}\n\n// YouTube IDを抽出する関数\nfunction extractYouTubeId(url?: string): string | null {\n  if (!url) return null;\n  const match = url.match(/(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([^&?\\s]+)/);\n  return match ? match[1] : null;\n}\n\n// YouTubeサムネイルURLを生成\nfunction getYouTubeThumbnail(youtubeId: string): string {\n  return `https://img.youtube.com/vi/${youtubeId}/mqdefault.jpg`;\n}\n\n// 相対時間を計算\nfunction getRelativeTime(dateString: string): string {\n  const now = new Date();\n  const date = new Date(dateString);\n  const diffMs = now.getTime() - date.getTime();\n  const diffMin = Math.floor(diffMs / (1000 * 60));\n  const diffHour = Math.floor(diffMs / (1000 * 60 * 60));\n  const diffDay = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n\n  if (diffMin < 60) return `${diffMin}分前`;\n  if (diffHour < 24) return `${diffHour}時間前`;\n  if (diffDay === 0) return '今日';\n  if (diffDay === 1) return '昨日';\n  if (diffDay < 7) return `${diffDay}日前`;\n  if (diffDay < 30) return `${Math.floor(diffDay / 7)}週間前`;\n  return `${Math.floor(diffDay / 30)}ヶ月前`;\n}\n\n// 時間フォーマット\nfunction formatDuration(seconds?: number): string {\n  if (!seconds) return '';\n  const mins = Math.floor(seconds / 60);\n  const secs = seconds % 60;\n  return `${mins}:${secs.toString().padStart(2, '0')}`;\n}\n\n// 視聴進捗率を計算\nfunction getProgressPercent(progressSeconds?: number, duration?: number): number {\n  if (!progressSeconds || !duration) return 0;\n  return Math.min(100, Math.round((progressSeconds / duration) * 100));\n}\n\nexport default function MyPageDashboard() {\n  const [profile, setProfile] = useState<UserProfile | null>(null);\n  const [history, setHistory] = useState<HistoryItem[]>([]);\n  const [bookmarks, setBookmarks] = useState<BookmarkItem[]>([]);\n  const [last24HoursWatchedCount, setLast24HoursWatchedCount] = useState(0);\n  const [totalBookmarks, setTotalBookmarks] = useState(0);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      const [profileRes, historyRes, bookmarksRes, statsRes] = await Promise.all([\n        fetch('/api/mypage/profile'),\n        fetch('/api/mypage/history?limit=5'),\n        fetch('/api/mypage/bookmarks?limit=5'),\n        fetch('/api/mypage/stats'),\n      ]);\n\n      if (profileRes.ok) {\n        const data = await profileRes.json();\n        setProfile(data);\n      }\n\n      if (historyRes.ok) {\n        const data = await historyRes.json();\n        setHistory(data.history || []);\n      }\n\n      if (bookmarksRes.ok) {\n        const data = await bookmarksRes.json();\n        setBookmarks(data.bookmarks || []);\n      }\n\n      if (statsRes.ok) {\n        const data = await statsRes.json();\n        setLast24HoursWatchedCount(data.last24HoursWatchedCount || 0);\n        setTotalBookmarks(data.totalBookmarks || 0);\n      }\n    } catch (error) {\n      console.error('Failed to fetch data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // サムネイル取得（履歴用 - YouTubeフォールバック付き）\n  const getHistoryThumbnail = (item: HistoryItem): string | null => {\n    const video = item.video;\n    if (video?.custom_thumbnail_url) return video.custom_thumbnail_url;\n    if (video?.thumbnail_url) return video.thumbnail_url;\n    if (video?.video_url) {\n      const ytId = extractYouTubeId(video.video_url);\n      if (ytId) return getYouTubeThumbnail(ytId);\n    }\n    return null;\n  };\n\n  // サムネイル取得（ブックマーク用 - YouTubeフォールバック付き）\n  const getBookmarkThumbnail = (item: BookmarkItem): string | null => {\n    if (item.custom_thumbnail_url) return item.custom_thumbnail_url;\n    if (item.thumbnail_url) return item.thumbnail_url;\n    if (item.video_url) {\n      const ytId = extractYouTubeId(item.video_url);\n      if (ytId) return getYouTubeThumbnail(ytId);\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* プロフィールカード */}\n      <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center text-white text-2xl font-bold\">\n              {profile?.display_name?.[0]?.toUpperCase() || 'U'}\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold text-gray-900\">\n                {profile?.display_name || 'ユーザー'}\n              </h1>\n              <p className=\"text-sm text-gray-500\">{profile?.email}</p>\n            </div>\n          </div>\n          <Link\n            href=\"/mypage/profile\"\n            className=\"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1\"\n          >\n            <User className=\"w-4 h-4\" />\n            プロフィール編集\n          </Link>\n        </div>\n\n        {/* 統計 */}\n        <div className=\"grid grid-cols-2 gap-4 mt-6\">\n          <div className=\"bg-blue-50 rounded-xl p-4 flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <History className=\"w-5 h-5 text-blue-600\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-gray-900\">{last24HoursWatchedCount}</p>\n              <p className=\"text-xs text-gray-500\">過去1日で視聴した動画</p>\n            </div>\n          </div>\n          <div className=\"bg-amber-50 rounded-xl p-4 flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center\">\n              <Bookmark className=\"w-5 h-5 text-amber-600\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-gray-900\">{totalBookmarks}</p>\n              <p className=\"text-xs text-gray-500\">ブックマーク</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* 視聴履歴セクション */}\n      <div className=\"bg-white rounded-xl border border-gray-200\">\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-100\">\n          <h2 className=\"flex items-center gap-2 font-bold text-gray-900\">\n            <History className=\"w-5 h-5 text-blue-600\" />\n            最近視聴した動画\n          </h2>\n          <Link\n            href=\"/mypage/history\"\n            className=\"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1\"\n          >\n            すべて見る\n            <ChevronRight className=\"w-4 h-4\" />\n          </Link>\n        </div>\n\n        {loading ? (\n          <div className=\"p-8 text-center text-gray-500\">読み込み中...</div>\n        ) : history.length > 0 ? (\n          <div className=\"divide-y divide-gray-100\">\n            {history.map((item) => {\n              const thumbUrl = getHistoryThumbnail(item);\n              const video = item.video;\n              const progress = getProgressPercent(item.progress_seconds, video?.duration);\n              \n              return (\n                <Link\n                  key={item.id}\n                  href={`/videos/${item.video_id}`}\n                  className=\"flex gap-4 p-4 hover:bg-gray-50 transition-colors\"\n                >\n                  {/* サムネイル */}\n                  <div className=\"relative w-40 flex-shrink-0 aspect-video rounded-lg overflow-hidden bg-gray-200\">\n                    {thumbUrl ? (\n                      <Image\n                        src={thumbUrl}\n                        alt={video?.title || '動画'}\n                        fill\n                        className=\"object-cover\"\n                        unoptimized={thumbUrl.includes('youtube.com') || thumbUrl.includes('ytimg.com')}\n                      />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center\">\n                        <Play className=\"w-8 h-8 text-gray-400\" />\n                      </div>\n                    )}\n                    {video?.duration && (\n                      <span className=\"absolute bottom-1 right-1 px-1.5 py-0.5 bg-black/80 text-white text-xs rounded\">\n                        {formatDuration(video.duration)}\n                      </span>\n                    )}\n                    {progress > 0 && (\n                      <div className=\"absolute bottom-0 left-0 right-0 h-1 bg-gray-300\">\n                        <div className=\"h-full bg-red-600\" style={{ width: `${progress}%` }} />\n                      </div>\n                    )}\n                  </div>\n\n                  {/* 動画情報 */}\n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"font-medium text-gray-900 line-clamp-2 mb-1\">\n                      {formatVideoTitle(video?.title || '動画')}\n                    </h3>\n                    <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n                      <span className=\"flex items-center gap-1\">\n                        <Eye className=\"w-3.5 h-3.5\" />\n                        {video?.view_count?.toLocaleString() || 0}回視聴\n                      </span>\n                      <span>•</span>\n                      <span>{getRelativeTime(item.watched_at)}に視聴</span>\n                    </div>\n                    {progress > 0 && progress < 100 && (\n                      <div className=\"mt-2 flex items-center gap-2\">\n                        <div className=\"flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden max-w-48\">\n                          <div className=\"h-full bg-blue-600 rounded-full\" style={{ width: `${progress}%` }} />\n                        </div>\n                        <span className=\"text-xs text-gray-500\">{progress}%視聴済み</span>\n                      </div>\n                    )}\n                    {progress >= 100 && (\n                      <span className=\"inline-block mt-2 px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full\">\n                        視聴完了\n                      </span>\n                    )}\n                  </div>\n                </Link>\n              );\n            })}\n          </div>\n        ) : (\n          <div className=\"p-8 text-center\">\n            <History className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\n            <p className=\"text-gray-500 mb-2\">まだ視聴履歴がありません</p>\n            <Link href=\"/\" className=\"text-sm text-blue-600 hover:text-blue-700\">\n              動画を見る →\n            </Link>\n          </div>\n        )}\n      </div>\n\n      {/* ブックマークセクション */}\n      <div className=\"bg-white rounded-xl border border-gray-200\">\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-100\">\n          <h2 className=\"flex items-center gap-2 font-bold text-gray-900\">\n            <Bookmark className=\"w-5 h-5 text-amber-500\" />\n            ブックマーク\n          </h2>\n          <Link\n            href=\"/mypage/bookmarks\"\n            className=\"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1\"\n          >\n            すべて見る\n            <ChevronRight className=\"w-4 h-4\" />\n          </Link>\n        </div>\n\n        {loading ? (\n          <div className=\"p-8 text-center text-gray-500\">読み込み中...</div>\n        ) : bookmarks.length > 0 ? (\n          <div className=\"divide-y divide-gray-100\">\n            {bookmarks.map((item) => {\n              const thumbUrl = getBookmarkThumbnail(item);\n              \n              return (\n                <Link\n                  key={item.video_id}\n                  href={`/videos/${item.video_id}`}\n                  className=\"flex gap-4 p-4 hover:bg-gray-50 transition-colors\"\n                >\n                  {/* サムネイル */}\n                  <div className=\"relative w-40 flex-shrink-0 aspect-video rounded-lg overflow-hidden bg-gray-200\">\n                    {thumbUrl ? (\n                      <Image\n                        src={thumbUrl}\n                        alt={item.title || '動画'}\n                        fill\n                        className=\"object-cover\"\n                        unoptimized={thumbUrl.includes('youtube.com') || thumbUrl.includes('ytimg.com')}\n                      />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center\">\n                        <Play className=\"w-8 h-8 text-gray-400\" />\n                      </div>\n                    )}\n                    {item.duration && (\n                      <span className=\"absolute bottom-1 right-1 px-1.5 py-0.5 bg-black/80 text-white text-xs rounded\">\n                        {formatDuration(item.duration)}\n                      </span>\n                    )}\n                  </div>\n\n                  {/* 動画情報 */}\n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"font-medium text-gray-900 line-clamp-2 mb-1\">\n                      {formatVideoTitle(item.title || '動画')}\n                    </h3>\n                    <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n                      <span className=\"flex items-center gap-1\">\n                        <Eye className=\"w-3.5 h-3.5\" />\n                        {item.view_count?.toLocaleString() || 0}回視聴\n                      </span>\n                      <span>•</span>\n                      <span>{getRelativeTime(item.created_at)}に保存</span>\n                    </div>\n                  </div>\n                </Link>\n              );\n            })}\n          </div>\n        ) : (\n          <div className=\"p-8 text-center\">\n            <Bookmark className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\n            <p className=\"text-gray-500 mb-2\">まだブックマークがありません</p>\n            <p className=\"text-sm text-gray-400\">気になる動画をブックマークして、後で見返しましょう</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,2,3]}