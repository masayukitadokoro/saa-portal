module.exports=[70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},4720,a=>{"use strict";let b=(0,a.i(70106).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],4720)},19736,a=>{"use strict";a.i(35025);var b=a.i(9701);function c(){return(0,b.createBrowserClient)("https://bfjstgfcvbxlvvodqoxd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRjeHpicXBoZ25yYmJud3lvcWFmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcyNDkzOTgsImV4cCI6MjA4MjgyNTM5OH0.kQI94c9Kh8KymiadcozMDi5lHSpjQN33Hl7wmN3FED8")}a.s(["createClient",()=>c])},93852,a=>{"use strict";a.i(87924);var b=a.i(72131);a.i(19736);let c=(0,b.createContext)({user:null,session:null,isLoading:!0,signOut:async()=>{}});a.s(["useAuth",0,()=>(0,b.useContext)(c)])},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},25015,a=>{"use strict";let b=(0,a.i(70106).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);a.s(["Play",()=>b],25015)},5784,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},69012,a=>{"use strict";let b=(0,a.i(70106).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],69012)},89962,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(93852),f=a.i(210),g=a.i(4720),h=a.i(70106);let i=(0,h.default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);var j=a.i(87532);let k=(0,h.default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),l=(0,h.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),m=(0,h.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var n=a.i(69012),o=a.i(5784),p=a.i(25015);function q(){let{user:a}=(0,e.useAuth)(),[h,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)("default"),[x,y]=(0,c.useState)("all"),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1);(0,c.useEffect)(()=>{D()},[]),(0,c.useEffect)(()=>{let a=()=>{A(!1),C(!1)};if(z||B)return document.addEventListener("click",a),()=>document.removeEventListener("click",a)},[z,B]);let D=async()=>{try{let a=await fetch("/api/admin/contents");if(a.ok){let b=await a.json();q(b.videos||[])}}catch(a){console.error("Error fetching videos:",a)}finally{s(!1)}},E=(0,c.useMemo)(()=>({total:h.length,articleDone:h.filter(a=>a.article_content&&a.article_content.trim()).length,articlePending:h.filter(a=>!a.article_content||!a.article_content.trim()).length,thumbnailDone:h.filter(a=>a.custom_thumbnail_url).length,thumbnailPending:h.filter(a=>!a.custom_thumbnail_url).length,resourceDone:h.filter(a=>a.resource_count>0).length,resourcePending:h.filter(a=>0===a.resource_count).length}),[h]),F=(0,c.useMemo)(()=>{let a=[...h];switch(t&&(a=a.filter(a=>a.title.toLowerCase().includes(t.toLowerCase()))),x){case"article-done":a=a.filter(a=>a.article_content&&a.article_content.trim());break;case"article-pending":a=a.filter(a=>!a.article_content||!a.article_content.trim());break;case"thumbnail-done":a=a.filter(a=>a.custom_thumbnail_url);break;case"thumbnail-pending":a=a.filter(a=>!a.custom_thumbnail_url);break;case"resource-done":a=a.filter(a=>a.resource_count>0);break;case"resource-pending":a=a.filter(a=>0===a.resource_count)}return"title-asc"===v?a.sort((a,b)=>a.title.localeCompare(b.title,"ja")):"title-desc"===v&&a.sort((a,b)=>b.title.localeCompare(a.title,"ja")),a},[h,t,x,v]),G={all:"ã™ã¹ã¦","article-done":"è¨˜äº‹ã‚ã‚Š","article-pending":"è¨˜äº‹ãªã—","thumbnail-done":"ã‚µãƒ ãƒã‚ã‚Š","thumbnail-pending":"ã‚µãƒ ãƒãªã—","resource-done":"è³‡æ–™ã‚ã‚Š","resource-pending":"è³‡æ–™ãªã—"},H={default:"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ","title-asc":"ã‚¿ã‚¤ãƒˆãƒ«æ˜‡é † (Aâ†’Z)","title-desc":"ã‚¿ã‚¤ãƒˆãƒ«é™é † (Zâ†’A)"};return a?r?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("header",{className:"bg-white border-b border-gray-200",children:(0,b.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:(0,b.jsxs)(d.default,{href:"/admin",className:"text-gray-600 hover:text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(f.ArrowLeft,{className:"w-4 h-4"}),"ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹"]})})}),(0,b.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"ðŸ“ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†"}),(0,b.jsxs)("p",{className:"text-gray-500",children:["å…¨",E.total,"ä»¶ã®å‹•ç”»"]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl px-4 py-3 shadow-sm flex items-center gap-3",children:[(0,b.jsx)(p.Play,{className:"w-5 h-5 text-blue-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"ç·å‹•ç”»æ•°"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.total})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm mb-6",children:[(0,b.jsxs)("div",{className:"p-4 flex flex-wrap items-center gap-4",children:[(0,b.jsx)("div",{className:"flex-1 min-w-[200px] max-w-md",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",value:t,onChange:a=>u(a.target.value),placeholder:"ã‚¿ã‚¤ãƒˆãƒ«ã§æ¤œç´¢...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:a=>{a.stopPropagation(),A(!z),C(!1)},className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50",children:[(0,b.jsx)(n.Filter,{className:"w-4 h-4"}),G[x],(0,b.jsx)(o.ChevronDown,{className:"w-4 h-4"})]}),z&&(0,b.jsx)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-[160px]",onClick:a=>a.stopPropagation(),children:Object.keys(G).map(a=>(0,b.jsx)("button",{onClick:()=>{y(a),A(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg ${x===a?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:G[a]},a))})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:a=>{a.stopPropagation(),C(!B),A(!1)},className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50",children:["title-asc"===v?(0,b.jsx)(l,{className:"w-4 h-4"}):"title-desc"===v?(0,b.jsx)(m,{className:"w-4 h-4"}):(0,b.jsx)(k,{className:"w-4 h-4"}),H[v],(0,b.jsx)(o.ChevronDown,{className:"w-4 h-4"})]}),B&&(0,b.jsx)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-[180px]",onClick:a=>a.stopPropagation(),children:Object.keys(H).map(a=>(0,b.jsx)("button",{onClick:()=>{w(a),C(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg ${v===a?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:H[a]},a))})]})]}),(0,b.jsxs)("div",{className:"px-4 pb-3 text-sm text-gray-500",children:[F.length,"ä»¶è¡¨ç¤º"]})]}),(0,b.jsx)("div",{className:"space-y-4",children:0===F.length?(0,b.jsx)("div",{className:"bg-white rounded-xl p-8 text-center text-gray-500",children:"è©²å½“ã™ã‚‹å‹•ç”»ãŒã‚ã‚Šã¾ã›ã‚“"}):F.map(a=>{let c,e,f=!!(a.article_content&&a.article_content.trim()),h=!!a.custom_thumbnail_url,j=a.resource_count>0;return(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:(0,b.jsxs)("div",{className:"flex items-start gap-4 p-4",children:[(0,b.jsx)("div",{className:"w-40 h-24 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:(0,b.jsx)("img",{src:a.custom_thumbnail_url||a.thumbnail_url||((e=(c=a.video_url.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?]+)/))?c[1]:null)?`https://img.youtube.com/vi/${e}/maxresdefault.jpg`:"/placeholder-video.png"),alt:a.title,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:a.title}),(0,b.jsxs)(d.default,{href:`/videos/${a.video_id}`,target:"_blank",className:"inline-flex items-center gap-1 text-xs text-gray-500 hover:text-blue-600 mb-3",children:[(0,b.jsx)("span",{children:"å‹•ç”»è©³ç´°ãƒšãƒ¼ã‚¸ã§ç¢ºèª"}),(0,b.jsx)("span",{children:"â†—"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)(d.default,{href:`/admin/videos/${a.video_id}/article`,className:`flex-1 flex flex-col items-center gap-1 py-3 rounded-lg border-2 transition ${f?"border-green-200 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[(0,b.jsx)(g.FileText,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-xs font-medium",children:"è¨˜äº‹ç·¨é›†"}),(0,b.jsx)("span",{className:`text-xs ${f?"text-green-600":"text-gray-400"}`,children:f?"âœ“ ä½œæˆæ¸ˆã¿":"â—‹ æœªä½œæˆ"})]}),(0,b.jsxs)(d.default,{href:`/admin/videos/${a.video_id}/thumbnail`,className:`flex-1 flex flex-col items-center gap-1 py-3 rounded-lg border-2 transition ${h?"border-green-200 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[(0,b.jsx)("span",{className:"text-lg",children:"ðŸ–¼"}),(0,b.jsx)("span",{className:"text-xs font-medium",children:"ã‚µãƒ ãƒå¤‰æ›´"}),(0,b.jsx)("span",{className:`text-xs ${h?"text-green-600":"text-gray-400"}`,children:h?"âœ“ è¨­å®šæ¸ˆã¿":"â—‹ æœªè¨­å®š"})]}),(0,b.jsxs)(d.default,{href:`/admin/videos/${a.video_id}/resources`,className:`flex-1 flex flex-col items-center gap-1 py-3 rounded-lg border-2 transition ${j?"border-green-200 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[(0,b.jsx)(i,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-xs font-medium",children:j?"è³‡æ–™ç·¨é›†":"è³‡æ–™è¿½åŠ "}),(0,b.jsx)("span",{className:`text-xs ${j?"text-green-600":"text-gray-400"}`,children:j?`âœ“ ${a.resource_count}ä»¶è¿½åŠ `:"â—‹ æœªè¿½åŠ "})]})]})]})]})},a.video_id)})})]})]}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-gray-500",children:"ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™"})})}a.s(["default",()=>q],89962)}];

//# sourceMappingURL=_3d4ea4c0._.js.map