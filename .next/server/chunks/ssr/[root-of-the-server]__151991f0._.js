module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},19736,a=>{"use strict";a.i(35025);var b=a.i(9701);function c(){return(0,b.createBrowserClient)("https://bfjstgfcvbxlvvodqoxd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRjeHpicXBoZ25yYmJud3lvcWFmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcyNDkzOTgsImV4cCI6MjA4MjgyNTM5OH0.kQI94c9Kh8KymiadcozMDi5lHSpjQN33Hl7wmN3FED8")}a.s(["createClient",()=>c])},93852,a=>{"use strict";a.i(87924);var b=a.i(72131);a.i(19736);let c=(0,b.createContext)({user:null,session:null,isLoading:!0,signOut:async()=>{}});a.s(["useAuth",0,()=>(0,b.useContext)(c)])},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},46842,a=>{"use strict";let b=(0,a.i(70106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},37211,a=>{"use strict";function b(a,b){if(!a)return"";let c=a.replace(/^(\d+(?:-\d+)?)_/,"");return b?`${b} ${c}`:a.replace(/^(\d+(?:-\d+)?)_/,"$1 ")}a.s(["formatVideoTitle",()=>b])},25015,a=>{"use strict";let b=(0,a.i(70106).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);a.s(["Play",()=>b],25015)},55562,a=>{"use strict";var b=a.i(87924),c=a.i(33508),d=a.i(38246);function e({isOpen:a,onClose:e,message:f}){return a?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:e}),(0,b.jsxs)("div",{className:"relative bg-white rounded-2xl p-8 max-w-md w-full mx-4 shadow-xl",children:[(0,b.jsx)("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:(0,b.jsx)(c.X,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:f||"ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¦–è´ã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(d.default,{href:"/auth/login",className:"block w-full py-3 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition",children:"ãƒ­ã‚°ã‚¤ãƒ³"}),(0,b.jsx)(d.default,{href:"/auth/signup",className:"block w-full py-3 px-4 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition",children:"æ–°è¦ç™»éŒ²ï¼ˆç„¡æ–™ï¼‰"})]}),(0,b.jsx)("p",{className:"mt-4 text-sm text-gray-500",children:"ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ã§å…¨ã¦ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™"})]})]})]}):null}a.s(["default",()=>e])},75050,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(71987),g=a.i(37211),h=a.i(25015),i=a.i(41710),j=a.i(93852),k=a.i(55562);function l({videos:a}){let{user:d}=(0,j.useAuth)(),[f,l]=(0,c.useState)(!1);if(0===a.length)return(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-gray-500",children:"å‹•ç”»ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ"})});function m(a){return a?Math.floor(a/60)+":"+(a%60).toString().padStart(2,"0"):""}function n(a){d||(a.preventDefault(),l(!0))}return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(a=>(0,b.jsxs)("div",{className:"group bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:[(0,b.jsxs)(e.default,{href:"/videos/"+a.video_id,onClick:n,className:"block relative aspect-video bg-gray-100",children:[(0,b.jsx)("img",{src:function(a){if(a.custom_thumbnail_url)return a.custom_thumbnail_url;if(a.thumbnail_url)return a.thumbnail_url;if(a.video_url){let b=a.video_url.match(/(?:v=|\/embed\/|youtu\.be\/)([\w-]{11})/);if(b)return"https://img.youtube.com/vi/"+b[1]+"/mqdefault.jpg"}return"/placeholder-video.png"}(a),alt:(0,g.formatVideoTitle)(a.title,a.display_order),className:"w-full h-full object-cover"}),a.duration&&(0,b.jsx)("div",{className:"absolute bottom-2 right-2 px-1.5 py-0.5 bg-black/80 text-white text-xs font-medium rounded",children:m(a.duration)}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/20 transition-colors",children:(0,b.jsx)(h.Play,{className:"w-10 h-10 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)(e.default,{href:"/videos/"+a.video_id,onClick:n,children:(0,b.jsx)("h3",{className:"font-semibold text-gray-900 line-clamp-2 group-hover:text-blue-600 transition-colors mb-2",children:(0,g.formatVideoTitle)(a.title,a.display_order)})}),(0,b.jsx)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:a.duration&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(i.Clock,{className:"w-3 h-3"}),m(a.duration)]})})]})]},a.video_id))}),(0,b.jsx)(k.default,{isOpen:f,onClose:()=>l(!1),message:"ã“ã®å‹•ç”»ã‚’è¦–è´ã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™"})]})}var m=a.i(87532),n=a.i(46842);function o(){let a=(0,d.useParams)().slug,[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)([]),[k,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)("newest"),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(null);async function v(){o(!0);let b=new URLSearchParams({sort:p});try{let c=await fetch(`/api/categories/${a}/videos?${b}`),d=await c.json();h(d.category),j(d.videos||[])}catch(a){console.error("Failed to load videos:",a)}finally{o(!1)}}(0,c.useEffect)(()=>{v(),w()},[a,p]);let w=async()=>{try{let a=await fetch("/api/mypage/profile");if(a.ok){let b=await a.json();u({name:b.display_name||b.email?.split("@")[0],avatar:b.avatar_url})}}catch(a){console.error("Failed to fetch user info:",a)}},x=r?i.filter(a=>a.title.toLowerCase().includes(r.toLowerCase())):i;return k&&!g?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 h-14 flex items-center justify-between",children:[(0,b.jsxs)(e.default,{href:"/",className:"flex items-center gap-2 flex-shrink-0",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-rose-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white text-sm font-bold",children:"ðŸ”¬"})}),(0,b.jsxs)("span",{className:"hidden sm:block font-bold text-gray-900",children:["èµ·æ¥­ã®ç§‘å­¦",(0,b.jsx)("span",{className:"text-rose-500",children:"ãƒãƒ¼ã‚¿ãƒ«"})]})]}),(0,b.jsx)("h1",{className:"text-base sm:text-lg font-bold text-gray-800",children:"å‹•ç”»ä¸€è¦§"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative hidden sm:block",children:[(0,b.jsx)(m.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",value:r,onChange:a=>s(a.target.value),placeholder:"å‹•ç”»ã‚’æ¤œç´¢...",className:"w-48 pl-9 pr-3 py-1.5 text-sm bg-gray-50 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),(0,b.jsxs)(e.default,{href:"/mypage",className:"flex items-center gap-2 px-2 py-1 rounded-lg hover:bg-gray-100 transition-colors",children:[t?.avatar?(0,b.jsx)(f.default,{src:t.avatar,alt:t.name||"User",width:32,height:32,className:"rounded-full"}):(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:t?.name?t.name[0].toUpperCase():(0,b.jsx)(n.User,{className:"w-4 h-4"})}),t?.name&&(0,b.jsx)("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:t.name})]})]})]})}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[x.length,"ä»¶ã®å‹•ç”»"]}),(0,b.jsxs)("select",{value:p,onChange:a=>q(a.target.value),className:"text-sm bg-white border border-gray-200 rounded-lg px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-rose-500",children:[(0,b.jsx)("option",{value:"newest",children:"æ–°ã—ã„é †"}),(0,b.jsx)("option",{value:"oldest",children:"å¤ã„é †"}),(0,b.jsx)("option",{value:"popular",children:"äººæ°—é †"})]})]}),(0,b.jsx)("div",{className:"sm:hidden mb-6",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",value:r,onChange:a=>s(a.target.value),placeholder:"å‹•ç”»ã‚’æ¤œç´¢...",className:"w-full pl-9 pr-3 py-2 text-sm bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500"})]})}),k?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}):(0,b.jsx)(l,{videos:x,showBookmark:!0})]})]})}a.s(["default",()=>o],75050)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__151991f0._.js.map