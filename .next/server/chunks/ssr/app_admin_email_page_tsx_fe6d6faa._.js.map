{"version":3,"sources":["../../../../app/admin/email/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { \n  ArrowLeft, Plus, Search, Mail, Clock, Send, CheckCircle,\n  Pencil, Trash2, Copy, X, Users, Calendar, BarChart3,\n  FileText, AlertCircle, Info\n} from 'lucide-react';\n\n// „É¢„ÉÉ„ÇØ„Éá„Éº„Çø\ninterface EmailItem {\n  id: string;\n  subject: string;\n  recipientCount: number;\n  recipients: string[];\n  template: string;\n  templateIcon: string;\n  status: 'draft' | 'scheduled' | 'sent';\n  updatedAt: string;\n  scheduledAt?: string;\n  sentAt?: string;\n  openRate?: number;\n  clickRate?: number;\n  body: string;\n}\n\nconst mockEmails: EmailItem[] = [\n  {\n    id: '1',\n    subject: '„ÄêËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´„Äë„Éà„É©„Ç§„Ç¢„É´ÊúüÈñìÁµÇ‰∫Ü„ÅÆ„ÅäÁü•„Çâ„Åõ',\n    recipientCount: 3,\n    recipients: ['Áî∞ÊâÄ ÈõÖ‰πã', 'Â±±Áî∞ Â§™ÈÉé', '‰ΩêËó§ Ëä±Â≠ê'],\n    template: 'Ëß£Á¥ÑÈò≤Ê≠¢',\n    templateIcon: 'üî•',\n    status: 'draft',\n    updatedAt: '2026-01-01T14:30:00',\n    body: `{{name}}Êßò\n\n„ÅÑ„Å§„ÇÇËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´„Çí„ÅîÂà©Áî®„ÅÑ„Åü„Å†„Åç„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ\n\n„Éà„É©„Ç§„Ç¢„É´ÊúüÈñìÁµÇ‰∫Ü„Åæ„ÅßÊÆã„Çä{{days_remaining}}Êó•„Å®„Å™„Çä„Åæ„Åó„Åü„ÄÇ\n„Åì„ÅÆÊ©ü‰ºö„Å´„Åú„Å≤ÊúâÊñô‰ºöÂì°„Å∏„ÅÆ„Ç¢„ÉÉ„Éó„Ç∞„É¨„Éº„Éâ„Çí„ÅîÊ§úË®é„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n„ÄêÊúâÊñô‰ºöÂì°„ÅÆÁâπÂÖ∏„Äë\n„ÉªÂÖ®„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Å∏„ÅÆÁÑ°Âà∂Èôê„Ç¢„ÇØ„Çª„Çπ\n„ÉªÊñ∞ÁùÄ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÅÆÂÑ™ÂÖàÈÖç‰ø°\n„ÉªÈôêÂÆö„Ç§„Éô„É≥„Éà„Å∏„ÅÆÂèÇÂä†Ê®©\n\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`\n  },\n  {\n    id: '2',\n    subject: '„ÄêËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´„ÄëÊñ∞ÁùÄ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÅÆ„ÅäÁü•„Çâ„Åõ',\n    recipientCount: 12,\n    recipients: ['ÂÖ®„Éà„É©„Ç§„Ç¢„É´„É¶„Éº„Ç∂„Éº'],\n    template: 'Êñ∞ÁùÄÂëäÁü•',\n    templateIcon: 'üìö',\n    status: 'draft',\n    updatedAt: '2025-12-28T10:15:00',\n    body: `{{name}}Êßò\n\nËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´„Å´Êñ∞„Åó„ÅÑ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÅåËøΩÂä†„Åï„Çå„Åæ„Åó„Åü„ÄÇ\n\n„Äê‰ªäÈÄ±„ÅÆÊñ∞ÁùÄ„Äë\n„ÉªÂãïÁîª: „ÄåPMF„ÇíÈÅîÊàê„Åô„Çã„Åü„ÇÅ„ÅÆ5„Å§„ÅÆ„Çπ„ÉÜ„ÉÉ„Éó„Äç\n„ÉªË®ò‰∫ã: „Äå„Çπ„Çø„Éº„Éà„Ç¢„ÉÉ„Éó„ÅÆË≥áÈáëË™øÈÅîÊà¶Áï•„Äç\n\n„Åú„Å≤„ÅîË¶ß„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`\n  },\n  {\n    id: '3',\n    subject: '„ÄêËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´„ÄëSAA„Ç¢„É´„É†„Éä„Ç§ÁâπÂÖ∏„ÅÆ„ÅîÊ°àÂÜÖ',\n    recipientCount: 5,\n    recipients: ['SAA„Ç¢„É´„É†„Éä„Ç§'],\n    template: 'SAAÁâπÂÖ∏',\n    templateIcon: 'üéì',\n    status: 'draft',\n    updatedAt: '2025-12-25T09:00:00',\n    body: `{{name}}Êßò\n\nSAA„Ç¢„É´„É†„Éä„Ç§„Å®„Åó„Å¶„ÅîÁôªÈå≤„ÅÑ„Åü„Å†„Åç„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ\n\n„Ç¢„É´„É†„Éä„Ç§ÈôêÂÆö„ÅÆÁâπÂÖ∏„Çí„ÅîÊ°àÂÜÖ„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ\n\n„Äê„Ç¢„É´„É†„Éä„Ç§ÁâπÂÖ∏„Äë\n„Éª3„É∂ÊúàÈñì„ÅÆÁÑ°Êñô„Ç¢„ÇØ„Çª„Çπ\n„Éª„Ç¢„É´„É†„Éä„Ç§ÈôêÂÆö„Ç≥„É≥„ÉÜ„É≥„ÉÑ\n\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`\n  },\n  {\n    id: '4',\n    subject: '„ÄêËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´„ÄëÊñ∞Âπ¥„ÅÆ„ÅîÊå®Êã∂',\n    recipientCount: 150,\n    recipients: ['ÂÖ®„É¶„Éº„Ç∂„Éº'],\n    template: '„Ç´„Çπ„Çø„É†',\n    templateIcon: '‚ú®',\n    status: 'scheduled',\n    updatedAt: '2025-12-30T18:00:00',\n    scheduledAt: '2026-01-01T00:00:00',\n    body: `{{name}}Êßò\n\nÊñ∞Âπ¥„ÅÇ„Åë„Åæ„Åó„Å¶„Åä„ÇÅ„Åß„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇ\n\nÊú¨Âπ¥„ÇÇËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´„Çí„Çà„Çç„Åó„Åè„ÅäÈ°ò„ÅÑ„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ\n\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`\n  },\n  {\n    id: '5',\n    subject: '„ÄêËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´„Äë12Êúà„ÅÆÊñ∞ÁùÄ„Åæ„Å®„ÇÅ',\n    recipientCount: 45,\n    recipients: ['ÊúâÊñô‰ºöÂì°'],\n    template: 'Êñ∞ÁùÄÂëäÁü•',\n    templateIcon: 'üìö',\n    status: 'sent',\n    updatedAt: '2025-12-31T10:00:00',\n    sentAt: '2025-12-31T10:00:00',\n    openRate: 62,\n    clickRate: 23,\n    body: `{{name}}Êßò\n\n12Êúà„ÅÆÊñ∞ÁùÄ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Çí„Åæ„Å®„ÇÅ„Å¶„ÅäÂ±ä„Åë„Åó„Åæ„Åô„ÄÇ\n\n„Äê12Êúà„ÅÆ‰∫∫Ê∞ó„Ç≥„É≥„ÉÜ„É≥„ÉÑTOP3„Äë\n1. PMF„ÇíÈÅîÊàê„Åô„Çã„Åü„ÇÅ„ÅÆ5„Å§„ÅÆ„Çπ„ÉÜ„ÉÉ„Éó\n2. „Çπ„Çø„Éº„Éà„Ç¢„ÉÉ„Éó„ÅÆË≥áÈáëË™øÈÅîÊà¶Áï•\n3. LayerX„ÅÆÊàêÈï∑Êà¶Áï•ÂàÜÊûê\n\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`\n  },\n  {\n    id: '6',\n    subject: '„ÄêËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´„ÄëÂπ¥Êú´„ÅÆ„ÅîÊå®Êã∂',\n    recipientCount: 120,\n    recipients: ['ÂÖ®„É¶„Éº„Ç∂„Éº'],\n    template: '„Ç´„Çπ„Çø„É†',\n    templateIcon: '‚ú®',\n    status: 'sent',\n    updatedAt: '2025-12-28T09:00:00',\n    sentAt: '2025-12-28T09:00:00',\n    openRate: 78,\n    clickRate: 35,\n    body: `{{name}}Êßò\n\nÂπ¥Êú´„ÅÆ„ÅîÊå®Êã∂„ÇíÁî≥„Åó‰∏ä„Åí„Åæ„Åô„ÄÇ\n\nÊú¨Âπ¥„ÇÇËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´„Çí„ÅîÂà©Áî®„ÅÑ„Åü„Å†„Åç„ÄÅ\nË™†„Å´„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„Åü„ÄÇ\n\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nËµ∑Ê•≠„ÅÆÁßëÂ≠¶„Éù„Éº„Çø„É´\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`\n  },\n];\n\n// Á¢∫Ë™ç„ÉÄ„Ç§„Ç¢„É≠„Ç∞\nfunction ConfirmDialog({ \n  isOpen, \n  title, \n  message, \n  onConfirm, \n  onCancel,\n  confirmText = '„ÅØ„ÅÑ',\n  cancelText = '„ÅÑ„ÅÑ„Åà',\n  confirmColor = 'blue'\n}: { \n  isOpen: boolean; \n  title: string; \n  message: React.ReactNode; \n  onConfirm: () => void; \n  onCancel: () => void;\n  confirmText?: string;\n  cancelText?: string;\n  confirmColor?: 'blue' | 'red';\n}) {\n  if (!isOpen) return null;\n  \n  const colorClasses = confirmColor === 'red' \n    ? 'bg-red-600 hover:bg-red-700' \n    : 'bg-blue-600 hover:bg-blue-700';\n  \n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl\">\n        <h3 className=\"text-lg font-bold mb-2\">{title}</h3>\n        <div className=\"text-gray-600 mb-6\">{message}</div>\n        <div className=\"flex justify-end gap-3\">\n          <button\n            onClick={onCancel}\n            className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200\"\n          >\n            {cancelText}\n          </button>\n          <button\n            onClick={onConfirm}\n            className={`px-4 py-2 text-white rounded-lg ${colorClasses}`}\n          >\n            {confirmText}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ÊàêÂäü„ÉÄ„Ç§„Ç¢„É≠„Ç∞\nfunction SuccessDialog({ \n  isOpen, \n  message, \n  onClose \n}: { \n  isOpen: boolean; \n  message: string; \n  onClose: () => void;\n}) {\n  if (!isOpen) return null;\n  \n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl text-center\">\n        <CheckCircle className=\"w-12 h-12 text-green-500 mx-auto mb-3\" />\n        <p className=\"text-gray-700 mb-4\">{message}</p>\n        <button\n          onClick={onClose}\n          className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n        >\n          Èñâ„Åò„Çã\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default function EmailManagementPage() {\n  const [emails, setEmails] = useState<EmailItem[]>(mockEmails);\n  const [selectedEmail, setSelectedEmail] = useState<EmailItem | null>(mockEmails[0]);\n  const [searchQuery, setSearchQuery] = useState('');\n  \n  // „ÉÄ„Ç§„Ç¢„É≠„Ç∞Áä∂ÊÖã\n  const [confirmDialog, setConfirmDialog] = useState<{\n    isOpen: boolean;\n    title: string;\n    message: React.ReactNode;\n    confirmText: string;\n    confirmColor: 'blue' | 'red';\n    action: () => void;\n  }>({\n    isOpen: false,\n    title: '',\n    message: '',\n    confirmText: '„ÅØ„ÅÑ',\n    confirmColor: 'blue',\n    action: () => {}\n  });\n  \n  const [successDialog, setSuccessDialog] = useState<{\n    isOpen: boolean;\n    message: string;\n  }>({ isOpen: false, message: '' });\n\n  // „Éï„Ç£„É´„Çø„É™„É≥„Ç∞\n  const filteredEmails = emails.filter(email => {\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      if (!email.subject.toLowerCase().includes(query)) return false;\n    }\n    return true;\n  });\n\n  // „Çπ„ÉÜ„Éº„Çø„ÇπÂà•„Å´„Ç∞„É´„Éº„ÉóÂåñ\n  const draftEmails = filteredEmails.filter(e => e.status === 'draft');\n  const scheduledEmails = filteredEmails.filter(e => e.status === 'scheduled');\n  const sentEmails = filteredEmails.filter(e => e.status === 'sent');\n\n  // Êó•‰ªò„Éï„Ç©„Éº„Éû„ÉÉ„Éà\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ja-JP', {\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // „Ç¢„ÇØ„Ç∑„Éß„É≥: ÂâäÈô§\n  const handleDelete = (email: EmailItem) => {\n    setConfirmDialog({\n      isOpen: true,\n      title: '‰∏ãÊõ∏„Åç„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü',\n      message: (\n        <div>\n          <p className=\"mb-2\">„Åì„ÅÆ‰∏ãÊõ∏„Åç„ÇíÂâäÈô§„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆÊìç‰Ωú„ÅØÂèñ„ÇäÊ∂à„Åõ„Åæ„Åõ„Çì„ÄÇ</p>\n          <div className=\"bg-gray-50 rounded-lg p-3 text-sm\">\n            <div className=\"font-medium truncate\">{email.subject}</div>\n          </div>\n        </div>\n      ),\n      confirmText: 'ÂâäÈô§„Åô„Çã',\n      confirmColor: 'red',\n      action: () => {\n        setEmails(emails.filter(e => e.id !== email.id));\n        if (selectedEmail?.id === email.id) {\n          setSelectedEmail(null);\n        }\n        setConfirmDialog(prev => ({ ...prev, isOpen: false }));\n        setSuccessDialog({ isOpen: true, message: '‰∏ãÊõ∏„Åç„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü' });\n      }\n    });\n  };\n\n  // „Ç¢„ÇØ„Ç∑„Éß„É≥: ÈÄÅ‰ø°\n  const handleSend = (email: EmailItem) => {\n    setConfirmDialog({\n      isOpen: true,\n      title: '„É°„Éº„É´„ÇíÈÄÅ‰ø°„Åó„Åæ„Åô„ÅãÔºü',\n      message: (\n        <div>\n          <p className=\"mb-2\">‰ª•‰∏ã„ÅÆÂÜÖÂÆπ„Åß„É°„Éº„É´„ÇíÈÄÅ‰ø°„Åó„Åæ„Åô„ÄÇ</p>\n          <div className=\"bg-gray-50 rounded-lg p-3 text-sm space-y-1\">\n            <div><span className=\"text-gray-500\">‰ª∂Âêç:</span> {email.subject}</div>\n            <div><span className=\"text-gray-500\">ÂÆõÂÖà:</span> {email.recipientCount}‰∫∫</div>\n          </div>\n        </div>\n      ),\n      confirmText: '„ÅØ„ÅÑ„ÄÅÈÄÅ‰ø°„Åô„Çã',\n      confirmColor: 'blue',\n      action: () => {\n        const updatedEmails = emails.map(e => \n          e.id === email.id \n            ? { ...e, status: 'sent' as const, sentAt: new Date().toISOString(), openRate: 0, clickRate: 0 }\n            : e\n        );\n        setEmails(updatedEmails);\n        const updatedEmail = updatedEmails.find(e => e.id === email.id);\n        if (updatedEmail) setSelectedEmail(updatedEmail);\n        setConfirmDialog(prev => ({ ...prev, isOpen: false }));\n        setSuccessDialog({ isOpen: true, message: '„É°„Éº„É´„ÇíÈÄÅ‰ø°„Åó„Åæ„Åó„Åü' });\n      }\n    });\n  };\n\n  // „Ç¢„ÇØ„Ç∑„Éß„É≥: Ë§áË£Ω\n  const handleDuplicate = (email: EmailItem) => {\n    setConfirmDialog({\n      isOpen: true,\n      title: '„É°„Éº„É´„ÇíË§áË£Ω„Åó„Åæ„Åô„ÅãÔºü',\n      message: (\n        <div>\n          <p className=\"mb-2\">„Åì„ÅÆ„É°„Éº„É´„Çí‰∏ãÊõ∏„Åç„Å®„Åó„Å¶Ë§áË£Ω„Åó„Åæ„Åô„ÄÇ</p>\n          <div className=\"bg-gray-50 rounded-lg p-3 text-sm\">\n            <div className=\"font-medium truncate\">{email.subject}</div>\n          </div>\n        </div>\n      ),\n      confirmText: '„ÅØ„ÅÑ„ÄÅË§áË£Ω„Åô„Çã',\n      confirmColor: 'blue',\n      action: () => {\n        const newEmail: EmailItem = {\n          ...email,\n          id: Date.now().toString(),\n          subject: `${email.subject} („Ç≥„Éî„Éº)`,\n          status: 'draft',\n          updatedAt: new Date().toISOString(),\n          sentAt: undefined,\n          openRate: undefined,\n          clickRate: undefined\n        };\n        setEmails([newEmail, ...emails]);\n        setSelectedEmail(newEmail);\n        setConfirmDialog(prev => ({ ...prev, isOpen: false }));\n        setSuccessDialog({ isOpen: true, message: '‰∏ãÊõ∏„Åç„Å®„Åó„Å¶Ë§áË£Ω„Åó„Åæ„Åó„Åü' });\n      }\n    });\n  };\n\n  // „Ç¢„ÇØ„Ç∑„Éß„É≥: ‰∫àÁ¥Ñ„Ç≠„É£„É≥„Çª„É´\n  const handleCancelSchedule = (email: EmailItem) => {\n    setConfirmDialog({\n      isOpen: true,\n      title: '‰∫àÁ¥Ñ„Çí„Ç≠„É£„É≥„Çª„É´„Åó„Åæ„Åô„ÅãÔºü',\n      message: (\n        <div>\n          <p className=\"mb-2\">„Åì„ÅÆ„É°„Éº„É´„ÅÆ‰∫àÁ¥ÑÈÄÅ‰ø°„Çí„Ç≠„É£„É≥„Çª„É´„Åó„ÄÅ‰∏ãÊõ∏„Åç„Å´Êàª„Åó„Åæ„Åô„ÄÇ</p>\n          <div className=\"bg-gray-50 rounded-lg p-3 text-sm space-y-1\">\n            <div><span className=\"text-gray-500\">‰ª∂Âêç:</span> {email.subject}</div>\n            <div><span className=\"text-gray-500\">‰∫àÁ¥ÑÊó•ÊôÇ:</span> {email.scheduledAt && formatDate(email.scheduledAt)}</div>\n          </div>\n        </div>\n      ),\n      confirmText: '„ÅØ„ÅÑ„ÄÅ„Ç≠„É£„É≥„Çª„É´„Åô„Çã',\n      confirmColor: 'red',\n      action: () => {\n        const updatedEmails = emails.map(e => \n          e.id === email.id \n            ? { ...e, status: 'draft' as const, scheduledAt: undefined }\n            : e\n        );\n        setEmails(updatedEmails);\n        const updatedEmail = updatedEmails.find(e => e.id === email.id);\n        if (updatedEmail) setSelectedEmail(updatedEmail);\n        setConfirmDialog(prev => ({ ...prev, isOpen: false }));\n        setSuccessDialog({ isOpen: true, message: '‰∫àÁ¥Ñ„Çí„Ç≠„É£„É≥„Çª„É´„Åó„Åæ„Åó„Åü' });\n      }\n    });\n  };\n\n  // „É°„Éº„É´„Ç¢„Ç§„ÉÜ„É†„ÅÆ„É¨„É≥„ÉÄ„É™„É≥„Ç∞\n  const renderEmailItem = (email: EmailItem) => {\n    const isSelected = selectedEmail?.id === email.id;\n    \n    return (\n      <button\n        key={email.id}\n        onClick={() => setSelectedEmail(email)}\n        className={`w-full text-left p-3 border-b hover:bg-gray-50 transition ${\n          isSelected ? 'bg-blue-50 border-l-2 border-l-blue-500' : ''\n        }`}\n      >\n        <div className=\"flex items-start gap-2\">\n          <span className=\"text-lg\">{email.templateIcon}</span>\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"font-medium text-sm truncate\">{email.subject}</div>\n            <div className=\"text-xs text-gray-500 flex items-center gap-2 mt-1\">\n              <span className=\"flex items-center gap-1\">\n                <Users className=\"w-3 h-3\" />\n                {email.recipientCount}‰∫∫\n              </span>\n              <span>‚Ä¢</span>\n              <span>{formatDate(email.updatedAt)}</span>\n              {email.status === 'sent' && email.openRate !== undefined && (\n                <>\n                  <span>‚Ä¢</span>\n                  <span className=\"text-green-600\">‚úì{email.openRate}%</span>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </button>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* „Éò„ÉÉ„ÉÄ„Éº */}\n      <div className=\"bg-white border-b sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <Link href=\"/admin/users\" className=\"text-gray-500 hover:text-gray-700 flex items-center gap-1\">\n              <ArrowLeft className=\"w-5 h-5\" />\n              <span className=\"text-sm\">„É¶„Éº„Ç∂„ÉºÁÆ°ÁêÜ„Å´Êàª„Çã</span>\n            </Link>\n            <h1 className=\"text-xl font-bold\">„É°„Éº„É´ÁÆ°ÁêÜ</h1>\n          </div>\n          <Link href=\"/admin/email/compose\" className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"><Plus className=\"w-4 h-4\" /> Êñ∞Ë¶è„É°„Éº„É´‰ΩúÊàê</Link>\n        </div>\n      </div>\n\n      {/* Êñ∞Ë¶è„É°„Éº„É´‰ΩúÊàê„ÅÆÊ°àÂÜÖ */}\n      <div className=\"max-w-7xl mx-auto px-4 pt-4\">\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-2\">\n          <Info className=\"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5\" />\n          <div className=\"text-sm text-blue-700\">\n            <span className=\"font-medium\">Êñ∞Ë¶è„É°„Éº„É´‰ΩúÊàê„Å´„Å§„ÅÑ„Å¶Ôºö</span>\n            <span className=\"ml-1\">„É¶„Éº„Ç∂„ÉºÁÆ°ÁêÜÁîªÈù¢„Åß„É¶„Éº„Ç∂„Éº„ÇíÈÅ∏Êäû„Åó„Å¶„Åã„Çâ„ÄåÊñ∞Ë¶è„É°„Éº„É´‰ΩúÊàê„Äç„ÇíÊäº„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 py-4\">\n        <div className=\"flex h-[calc(100vh-160px)] bg-white rounded-lg border overflow-hidden\">\n          {/* Â∑¶„Çµ„Ç§„Éâ„Éê„Éº */}\n          <div className=\"w-80 border-r flex flex-col\">\n            {/* Ê§úÁ¥¢ */}\n            <div className=\"p-3 border-b\">\n              <div className=\"relative\">\n                <Search className=\"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Ê§úÁ¥¢...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"w-full pl-9 pr-3 py-2 border rounded-lg text-sm\"\n                />\n              </div>\n            </div>\n\n            {/* „É°„Éº„É´„É™„Çπ„Éà */}\n            <div className=\"flex-1 overflow-y-auto\">\n              {/* ‰∏ãÊõ∏„Åç */}\n              {draftEmails.length > 0 && (\n                <div>\n                  <div className=\"px-3 py-2 bg-gray-50 border-b flex items-center gap-2 sticky top-0\">\n                    <FileText className=\"w-4 h-4 text-gray-500\" />\n                    <span className=\"font-medium text-sm text-gray-700\">‰∏ãÊõ∏„Åç</span>\n                    <span className=\"text-xs bg-gray-200 text-gray-600 px-1.5 py-0.5 rounded-full\">\n                      {draftEmails.length}\n                    </span>\n                  </div>\n                  {draftEmails.map(renderEmailItem)}\n                </div>\n              )}\n\n              {/* ‰∫àÁ¥ÑÊ∏à„Åø */}\n              {scheduledEmails.length > 0 && (\n                <div>\n                  <div className=\"px-3 py-2 bg-gray-50 border-b flex items-center gap-2 sticky top-0\">\n                    <Clock className=\"w-4 h-4 text-orange-500\" />\n                    <span className=\"font-medium text-sm text-gray-700\">‰∫àÁ¥ÑÊ∏à„Åø</span>\n                    <span className=\"text-xs bg-orange-100 text-orange-600 px-1.5 py-0.5 rounded-full\">\n                      {scheduledEmails.length}\n                    </span>\n                  </div>\n                  {scheduledEmails.map(renderEmailItem)}\n                </div>\n              )}\n\n              {/* ÈÄÅ‰ø°Ê∏à„Åø */}\n              {sentEmails.length > 0 && (\n                <div>\n                  <div className=\"px-3 py-2 bg-gray-50 border-b flex items-center gap-2 sticky top-0\">\n                    <Send className=\"w-4 h-4 text-green-500\" />\n                    <span className=\"font-medium text-sm text-gray-700\">ÈÄÅ‰ø°Ê∏à„Åø</span>\n                    <span className=\"text-xs bg-green-100 text-green-600 px-1.5 py-0.5 rounded-full\">\n                      {sentEmails.length}\n                    </span>\n                  </div>\n                  {sentEmails.map(renderEmailItem)}\n                </div>\n              )}\n\n              {filteredEmails.length === 0 && (\n                <div className=\"p-8 text-center text-gray-500\">\n                  <Mail className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n                  <p>„É°„Éº„É´„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Âè≥„Éó„É¨„Éì„É•„Éº */}\n          <div className=\"flex-1 overflow-y-auto\">\n            {selectedEmail ? (\n              <div className=\"p-6\">\n                {/* „Çπ„ÉÜ„Éº„Çø„Çπ„Éê„ÉÉ„Ç∏ */}\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center gap-2\">\n                    {selectedEmail.status === 'draft' && (\n                      <span className=\"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs font-medium flex items-center gap-1\">\n                        <FileText className=\"w-3 h-3\" /> ‰∏ãÊõ∏„Åç\n                      </span>\n                    )}\n                    {selectedEmail.status === 'scheduled' && (\n                      <span className=\"px-2 py-1 bg-orange-100 text-orange-600 rounded text-xs font-medium flex items-center gap-1\">\n                        <Clock className=\"w-3 h-3\" /> ‰∫àÁ¥ÑÊ∏à„Åø\n                      </span>\n                    )}\n                    {selectedEmail.status === 'sent' && (\n                      <span className=\"px-2 py-1 bg-green-100 text-green-600 rounded text-xs font-medium flex items-center gap-1\">\n                        <CheckCircle className=\"w-3 h-3\" /> ÈÄÅ‰ø°Ê∏à„Åø\n                      </span>\n                    )}\n                    <span className=\"text-sm text-gray-500\">\n                      {selectedEmail.templateIcon} {selectedEmail.template}\n                    </span>\n                  </div>\n                  <div className=\"text-sm text-gray-500\">\n                    Êõ¥Êñ∞: {formatDate(selectedEmail.updatedAt)}\n                  </div>\n                </div>\n\n                {/* „É°„ÇøÊÉÖÂ†± */}\n                <div className=\"bg-gray-50 rounded-lg p-4 mb-4 space-y-2\">\n                  <div className=\"flex items-center gap-2 text-sm\">\n                    <Users className=\"w-4 h-4 text-gray-400\" />\n                    <span className=\"text-gray-500\">ÂÆõÂÖà:</span>\n                    <span>{selectedEmail.recipientCount}‰∫∫Ôºà{selectedEmail.recipients.join(', ')}Ôºâ</span>\n                  </div>\n                  {selectedEmail.scheduledAt && (\n                    <div className=\"flex items-center gap-2 text-sm\">\n                      <Calendar className=\"w-4 h-4 text-gray-400\" />\n                      <span className=\"text-gray-500\">ÈÄÅ‰ø°‰∫àÂÆö:</span>\n                      <span>{formatDate(selectedEmail.scheduledAt)}</span>\n                    </div>\n                  )}\n                  {selectedEmail.sentAt && (\n                    <div className=\"flex items-center gap-2 text-sm\">\n                      <Send className=\"w-4 h-4 text-gray-400\" />\n                      <span className=\"text-gray-500\">ÈÄÅ‰ø°Êó•ÊôÇ:</span>\n                      <span>{formatDate(selectedEmail.sentAt)}</span>\n                    </div>\n                  )}\n                  {selectedEmail.status === 'sent' && (\n                    <div className=\"flex items-center gap-4 text-sm pt-2 border-t mt-2\">\n                      <div className=\"flex items-center gap-2\">\n                        <BarChart3 className=\"w-4 h-4 text-gray-400\" />\n                        <span className=\"text-gray-500\">ÈñãÂ∞ÅÁéá:</span>\n                        <span className=\"font-medium text-green-600\">{selectedEmail.openRate}%</span>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-gray-500\">„ÇØ„É™„ÉÉ„ÇØÁéá:</span>\n                        <span className=\"font-medium text-blue-600\">{selectedEmail.clickRate}%</span>\n                      </div>\n                    </div>\n                  )}\n                </div>\n\n                {/* „É°„Éº„É´„Éó„É¨„Éì„É•„Éº */}\n                <div className=\"border rounded-lg overflow-hidden mb-4\">\n                  <div className=\"bg-gray-50 px-4 py-3 border-b\">\n                    <div className=\"text-sm\">\n                      <span className=\"text-gray-500\">Subject:</span>{' '}\n                      <span className=\"font-medium\">{selectedEmail.subject}</span>\n                    </div>\n                  </div>\n                  <div className=\"p-4 bg-white\">\n                    <pre className=\"whitespace-pre-wrap font-sans text-sm text-gray-700 leading-relaxed\">\n                      {selectedEmail.body}\n                    </pre>\n                  </div>\n                </div>\n\n                {/* „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥ */}\n                <div className=\"flex items-center gap-3\">\n                  {selectedEmail.status === 'draft' && (\n                    <>\n                      <Link\n                        href={`/admin/email/compose?draftId=${selectedEmail.id}`}\n                        className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"\n                      >\n                        <Pencil className=\"w-4 h-4\" /> Á∑®ÈõÜ\n                      </Link>\n                      <button\n                        onClick={() => handleSend(selectedEmail)}\n                        className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2\"\n                      >\n                        <Send className=\"w-4 h-4\" /> ÈÄÅ‰ø°\n                      </button>\n                      <button\n                        onClick={() => handleDelete(selectedEmail)}\n                        className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" /> ÂâäÈô§\n                      </button>\n                    </>\n                  )}\n                  {selectedEmail.status === 'scheduled' && (\n                    <>\n                      <Link\n                        href={`/admin/email/compose?draftId=${selectedEmail.id}`}\n                        className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"\n                      >\n                        <Pencil className=\"w-4 h-4\" /> Á∑®ÈõÜ\n                      </Link>\n                      <button\n                        onClick={() => handleCancelSchedule(selectedEmail)}\n                        className=\"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 flex items-center gap-2\"\n                      >\n                        <X className=\"w-4 h-4\" /> ‰∫àÁ¥Ñ„Ç≠„É£„É≥„Çª„É´\n                      </button>\n                    </>\n                  )}\n                  {selectedEmail.status === 'sent' && (\n                    <>\n                      <button\n                        onClick={() => handleDuplicate(selectedEmail)}\n                        className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\"\n                      >\n                        <Copy className=\"w-4 h-4\" /> Ë§áË£Ω„Åó„Å¶Êñ∞Ë¶è‰ΩúÊàê\n                      </button>\n                    </>\n                  )}\n                </div>\n              </div>\n            ) : (\n              <div className=\"h-full flex items-center justify-center text-gray-500\">\n                <div className=\"text-center\">\n                  <Mail className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n                  <p>„É°„Éº„É´„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Á¢∫Ë™ç„ÉÄ„Ç§„Ç¢„É≠„Ç∞ */}\n      <ConfirmDialog\n        isOpen={confirmDialog.isOpen}\n        title={confirmDialog.title}\n        message={confirmDialog.message}\n        onConfirm={confirmDialog.action}\n        onCancel={() => setConfirmDialog(prev => ({ ...prev, isOpen: false }))}\n        confirmText={confirmDialog.confirmText}\n        confirmColor={confirmDialog.confirmColor}\n      />\n\n      {/* ÊàêÂäü„ÉÄ„Ç§„Ç¢„É≠„Ç∞ */}\n      <SuccessDialog\n        isOpen={successDialog.isOpen}\n        message={successDialog.message}\n        onClose={() => setSuccessDialog({ isOpen: false, message: '' })}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,KAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAuBA,IAAM,EAA0B,CAC9B,CACE,GAAI,IACJ,QAAS,4BACT,eAAgB,EAChB,WAAY,CAAC,QAAS,QAAS,QAAQ,CACvC,SAAU,OACV,aAAc,KACd,OAAQ,QACR,UAAW,sBACX,KAAM,CAAC;;;;;;;;;;;;;;sBAcW,CAAC,AACrB,EACA,CACE,GAAI,IACJ,QAAS,0BACT,eAAgB,GAChB,WAAY,CAAC,aAAa,CAC1B,SAAU,OACV,aAAc,KACd,OAAQ,QACR,UAAW,sBACX,KAAM,CAAC;;;;;;;;;;;;sBAYW,CAAC,AACrB,EACA,CACE,GAAI,IACJ,QAAS,4BACT,eAAgB,EAChB,WAAY,CAAC,WAAW,CACxB,SAAU,QACV,aAAc,KACd,OAAQ,QACR,UAAW,sBACX,KAAM,CAAC;;;;;;;;;;;;sBAYW,CAAC,AACrB,EACA,CACE,GAAI,IACJ,QAAS,oBACT,eAAgB,IAChB,WAAY,CAAC,QAAQ,CACrB,SAAU,OACV,aAAc,IACd,OAAQ,YACR,UAAW,sBACX,YAAa,sBACb,KAAM,CAAC;;;;;;;;sBAQW,CAAC,AACrB,EACA,CACE,GAAI,IACJ,QAAS,uBACT,eAAgB,GAChB,WAAY,CAAC,OAAO,CACpB,SAAU,OACV,aAAc,KACd,OAAQ,OACR,UAAW,sBACX,OAAQ,sBACR,SAAU,GACV,UAAW,GACX,KAAM,CAAC;;;;;;;;;;;sBAWW,CAAC,AACrB,EACA,CACE,GAAI,IACJ,QAAS,oBACT,eAAgB,IAChB,WAAY,CAAC,QAAQ,CACrB,SAAU,OACV,aAAc,IACd,OAAQ,OACR,UAAW,sBACX,OAAQ,sBACR,SAAU,GACV,UAAW,GACX,KAAM,CAAC;;;;;;;;;sBASW,CAAC,AACrB,EACD,CAGD,SAAS,EAAc,QACrB,CAAM,OACN,CAAK,SACL,CAAO,WACP,CAAS,CACT,UAAQ,aACR,EAAc,IAAI,YAClB,EAAa,KAAK,cAClB,EAAe,MAAM,CAUtB,SACC,AAAK,EAOH,CAAA,CAPE,CAOF,EAAA,CAPW,EAOX,EAAC,MAAA,CAAI,UAAU,2EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mEACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCAA0B,IACxC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAAsB,IACrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,4EAET,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAW,CAAC,gCAAgC,EAAE,AAlBlB,QAAjB,EACjB,8BACA,gCAgBoD,CAAc,UAE3D,YAtBS,IA4BtB,CAGA,SAAS,EAAc,QACrB,CAAM,SACN,CAAO,SACP,CAAO,CAKR,SACC,AAAK,EAGH,CAAA,CAHE,CAGF,EAAA,CAHW,EAGX,EAAC,MAAA,CAAI,UAAU,2EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,0CACvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAsB,IACnC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,yEACX,aAVa,IAgBtB,CAEe,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,GAC5C,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmB,CAAU,CAAC,EAAE,EAC5E,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAGzC,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAO/C,CACD,QAAQ,EACR,MAAO,GACP,QAAS,GACT,YAAa,KACb,aAAc,OACd,OAAQ,KAAO,CACjB,GAEM,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAG/C,CAAE,QAAQ,EAAO,QAAS,EAAG,GAG1B,EAAiB,EAAO,MAAM,CAAC,IACnC,GAAI,EAAa,CACf,IAAM,EAAQ,EAAY,WAAW,GACrC,GAAI,CAAC,EAAM,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC,GAAQ,OAAO,CAC3D,CACA,OAAO,CACT,GAGM,EAAc,EAAe,MAAM,CAAC,GAAK,AAAa,YAAX,MAAM,EACjD,EAAkB,EAAe,MAAM,CAAC,GAAkB,cAAb,EAAE,MAAM,EACrD,EAAa,EAAe,MAAM,CAAC,GAAkB,SAAb,EAAE,MAAM,EAGhD,EAAa,AAAC,GACL,AACN,IADU,KAAK,GACV,kBAAkB,CAAC,QAAS,CACtC,MAAO,UACP,IAAK,UACL,KAAM,UACN,OAAQ,SACV,GA8HI,EAAkB,AAAC,IACvB,IAAM,EAAa,GAAe,KAAO,EAAM,EAAE,CAEjD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAiB,GAChC,UAAW,CAAC,0DAA0D,EACpE,EAAa,0CAA4C,GAAA,CACzD,UAEF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAW,EAAM,YAAY,GAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCAAgC,EAAM,OAAO,GAC5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,oCACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAChB,EAAM,cAAc,CAAC,OAExB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,MACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAW,EAAM,SAAS,IAChC,AAAiB,WAAX,MAAM,OAAkC,IAAnB,EAAM,QAAQ,EACxC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,MACN,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,2BAAiB,IAAE,EAAM,QAAQ,CAAC,oBApBvD,EAAM,EAAE,CA4BnB,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,eAAe,UAAU,sEAClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,YACrB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAU,iBAE5B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6BAAoB,aAEpC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,uBAAuB,UAAU,kGAAwF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YAAY,mBAKpK,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oFACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,+CAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,iBAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gBAAO,mDAK7B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kFAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,mEAClB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,QACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,UAAU,yDAMhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCAEZ,EAAY,MAAM,CAAG,GACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,0BACpB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6CAAoC,QACpD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wEACb,EAAY,MAAM,MAGtB,EAAY,GAAG,CAAC,MAKpB,EAAgB,MAAM,CAAG,GACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,4BACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6CAAoC,SACpD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4EACb,EAAgB,MAAM,MAG1B,EAAgB,GAAG,CAAC,MAKxB,EAAW,MAAM,CAAG,GACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,2BAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6CAAoC,SACpD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0EACb,EAAW,MAAM,MAGrB,EAAW,GAAG,CAAC,MAIO,IAA1B,EAAe,MAAM,EACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,yCAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,uBAOX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACa,UAAzB,EAAc,MAAM,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,oGACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,YAAY,UAGV,cAAzB,EAAc,MAAM,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,wGACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAY,WAGP,SAAzB,EAAc,MAAM,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sGACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YAAY,WAGvC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,kCACb,EAAc,YAAY,CAAC,IAAE,EAAc,QAAQ,OAGxD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCAAwB,OAChC,EAAW,EAAc,SAAS,QAK3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,0BACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,QAChC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,EAAc,cAAc,CAAC,KAAG,EAAc,UAAU,CAAC,IAAI,CAAC,MAAM,UAE5E,EAAc,WAAW,EACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,0BACpB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,UAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAW,EAAc,WAAW,OAG9C,EAAc,MAAM,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,0BAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,UAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAW,EAAc,MAAM,OAGhB,SAAzB,EAAc,MAAM,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,0BACrB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,SAChC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,uCAA8B,EAAc,QAAQ,CAAC,UAEvE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,WAChC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sCAA6B,EAAc,SAAS,CAAC,gBAO7E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,aAAgB,IAChD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAe,EAAc,OAAO,QAGxD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACZ,EAAc,IAAI,QAMzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACa,UAAzB,EAAc,MAAM,EACnB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAM,CAAC,6BAA6B,EAAE,EAAc,EAAE,CAAA,CAAE,CACxD,UAAU,kGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,YAAY,SAEhC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,CAjUnC,EAAiB,CACf,QAAQ,EACR,MAAO,cACP,QACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gBAAO,qBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAI,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,QAAU,IAAE,AA0TX,EA1TiB,OAAO,IAC9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAI,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,QAAU,IAAE,EAAM,cAAc,CAAC,aAI5E,YAAa,UACb,aAAc,OACd,OAAQ,KACN,IAAM,EAAgB,EAAO,GAAG,CAAC,GAC/B,EAAE,EAAE,GAAK,EAAM,EAAE,CACb,CAAE,GAAG,CAAC,CAAE,OAAQ,OAAiB,OAAQ,IAAI,OAAO,WAAW,GAAI,SAAU,EAAG,UAAW,CAAE,EAC7F,GAEN,EAAU,GACV,IAAM,EAAe,EAAc,IAAI,CAAC,GAAK,EAAE,EAAE,GAAK,EAAM,EAAE,CAC1D,IAAc,EAAiB,GACnC,EAAiB,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,QAAQ,EAAM,CAAC,EACpD,EAAiB,CAAE,QAAQ,EAAM,QAAS,YAAa,EACzD,CACF,IAwSoB,UAAU,oGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YAAY,SAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,CAjWnC,EAAiB,CACf,QAAQ,EACR,MAAO,cACP,QACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gBAAO,8BACpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCA0VyB,AA1VD,EAAM,OAAO,QAI1D,YAAa,OACb,aAAc,MACd,OAAQ,KACN,EAAU,EAAO,MAAM,CAAC,GAAK,EAAE,EAAE,GAAK,EAAM,EAAE,GAC1C,GAAe,KAAO,EAAM,EAAE,EAAE,AAClC,EAAiB,MAEnB,EAAiB,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,OAAQ,GAAM,CAAC,EACpD,EAAiB,CAAE,QAAQ,EAAM,QAAS,YAAa,EACzD,CACF,IA6UoB,UAAU,qGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,YAAY,YAIV,cAAzB,EAAc,MAAM,EACnB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAM,CAAC,6BAA6B,EAAE,EAAc,EAAE,CAAA,CAAE,CACxD,UAAU,kGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,YAAY,SAEhC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,CAtRnC,EAAiB,CACf,QAAQ,EACR,MAAO,gBACP,QACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gBAAO,gCACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAI,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,QAAU,IAAE,EAAM,OAAO,IAC9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAI,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,UAAY,IAAE,EAAM,WAAW,EAAI,EA8QxB,AA9QmC,EAAM,WAAW,WAI1G,YAAa,aACb,aAAc,MACd,OAAQ,KACN,IAAM,EAAgB,EAAO,GAAG,CAAC,GAC/B,EAAE,EAAE,GAAK,EAAM,EAAE,CACb,CAAE,GAAG,CAAC,CAAE,OAAQ,QAAkB,iBAAa,CAAU,EACzD,GAEN,EAAU,GACV,IAAM,EAAe,EAAc,IAAI,CAAC,GAAK,EAAE,EAAE,GAAK,EAAM,EAAE,EAC1D,GAAc,EAAiB,GACnC,EAAiB,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,QAAQ,EAAM,CAAC,EACpD,EAAiB,CAAE,QAAQ,EAAM,QAAS,cAAe,EAC3D,CACF,IA6PoB,UAAU,kGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,YAAY,iBAIL,SAAzB,EAAc,MAAM,EACnB,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UACE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,CAlUnC,EAAiB,CACf,QAAQ,EACR,MAAO,cACP,QACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gBAAO,uBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCAAwB,AA2TI,EA3TE,OAAO,QAI1D,YAAa,UACb,aAAc,OACd,OAAQ,KACN,IAAM,EAAsB,CAC1B,GAAG,CAmT0C,CAlT7C,GADQ,AACJ,KAAK,GAAG,GAAG,QAAQ,GACvB,QAAS,CAAA,EAAG,EAAM,OAAO,CAAC,MAAM,CAAC,CACjC,OAAQ,QACR,UAAW,IAAI,OAAO,WAAW,GACjC,YAAQ,EACR,cAAU,EACV,eAAW,CACb,EACA,EAAU,CAAC,KAAa,EAAO,EAC/B,EAAiB,GACjB,EAAiB,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,OAAQ,GAAM,CAAC,EACpD,EAAiB,CAAE,QAAQ,EAAM,QAAS,cAAe,EAC3D,CACF,IAsSoB,UAAU,kGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YAAY,uBAOtC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,yCAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,6BASf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,OAAQ,EAAc,MAAM,CAC5B,MAAO,EAAc,KAAK,CAC1B,QAAS,EAAc,OAAO,CAC9B,UAAW,EAAc,MAAM,CAC/B,SAAU,IAAM,EAAiB,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,QAAQ,EAAM,CAAC,EACpE,YAAa,EAAc,WAAW,CACtC,aAAc,EAAc,YAAY,GAI1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,OAAQ,EAAc,MAAM,CAC5B,QAAS,EAAc,OAAO,CAC9B,QAAS,IAAM,EAAiB,CAAE,QAAQ,EAAO,QAAS,EAAG,OAIrE"}