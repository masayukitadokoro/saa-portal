{"version":3,"sources":["../../../../app/admin/email/compose/page.tsx","../../../../node_modules/lucide-react/src/icons/smile.ts","../../../../node_modules/lucide-react/src/icons/gift.ts","../../../../node_modules/lucide-react/src/icons/target.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, Suspense } from 'react';\nimport { useSearchParams, useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { \n  ArrowLeft, Users, Mail, Sparkles, Clock, Send, \n  ChevronDown, X, Loader2, Save, Eye, CheckCircle,\n  Target, Smile, FileText, Gift, RefreshCw, Pencil\n} from 'lucide-react';\n\ninterface User {\n  id: string;\n  email: string;\n  display_name: string | null;\n  plan_type: string;\n  trial_ends_at: string;\n  is_super_user: boolean;\n  engagementScore: number | null;\n  churnRisk: 'low' | 'medium' | 'high' | null;\n}\n\ninterface Template {\n  id: string;\n  name: string;\n  icon: string;\n  description: string;\n  subject: string;\n  body: string;\n}\n\n// 確認ダイアログ\nfunction ConfirmDialog({ \n  isOpen, \n  title, \n  message, \n  onConfirm, \n  onCancel,\n  confirmText = 'はい',\n  cancelText = 'いいえ',\n  isLoading = false\n}: { \n  isOpen: boolean; \n  title: string; \n  message: React.ReactNode; \n  onConfirm: () => void; \n  onCancel: () => void;\n  confirmText?: string;\n  cancelText?: string;\n  isLoading?: boolean;\n}) {\n  if (!isOpen) return null;\n  \n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl\">\n        <h3 className=\"text-lg font-bold mb-2\">{title}</h3>\n        <div className=\"text-gray-600 mb-6\">{message}</div>\n        <div className=\"flex justify-end gap-3\">\n          <button\n            onClick={onCancel}\n            disabled={isLoading}\n            className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50\"\n          >\n            {cancelText}\n          </button>\n          <button\n            onClick={onConfirm}\n            disabled={isLoading}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2\"\n          >\n            {isLoading && <Loader2 className=\"w-4 h-4 animate-spin\" />}\n            {confirmText}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// 成功ダイアログ\nfunction SuccessDialog({ \n  isOpen, \n  title,\n  message, \n  onClose,\n  buttonText = '閉じる'\n}: { \n  isOpen: boolean; \n  title?: string;\n  message: string; \n  onClose: () => void;\n  buttonText?: string;\n}) {\n  if (!isOpen) return null;\n  \n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl text-center\">\n        <CheckCircle className=\"w-16 h-16 text-green-500 mx-auto mb-4\" />\n        {title && <h3 className=\"text-lg font-bold mb-2\">{title}</h3>}\n        <p className=\"text-gray-600 mb-6\">{message}</p>\n        <button\n          onClick={onClose}\n          className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n        >\n          {buttonText}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nconst templates: Template[] = [\n  {\n    id: 'churn_prevention',\n    name: '解約防止',\n    icon: '🔥',\n    description: 'トライアル終了間近のユーザーへ',\n    subject: '【起業の科学ポータル】トライアル期間終了のお知らせ',\n    body: `{{name}}様\n\nいつも起業の科学ポータルをご利用いただきありがとうございます。\n\nトライアル期間終了まで残り{{days_remaining}}日となりました。\nこの機会にぜひ有料会員へのアップグレードをご検討ください。\n\n【有料会員の特典】\n・全コンテンツへの無制限アクセス\n・新着コンテンツの優先配信\n・限定イベントへの参加権\n・コミュニティへのアクセス\n\nご不明な点がございましたら、お気軽にお問い合わせください。\n\n━━━━━━━━━━━━━━━━━━━━━━\n起業の科学ポータル\nhttps://portal.example.com\n━━━━━━━━━━━━━━━━━━━━━━`\n  },\n  {\n    id: 'saa_benefits',\n    name: 'SAA特典',\n    icon: '🎓',\n    description: 'アルムナイ向け特典案内',\n    subject: '【起業の科学ポータル】SAAアルムナイ特典のご案内',\n    body: `{{name}}様\n\nSAAアルムナイとしてご登録いただきありがとうございます。\n\nアルムナイ限定の特典をご案内いたします。\n\n【アルムナイ特典】\n・3ヶ月間の無料アクセス\n・アルムナイ限定コンテンツ\n・コミュニティイベントへの優先参加\n・1on1メンタリングの割引\n\nぜひこの機会にポータルをご活用ください。\n\n━━━━━━━━━━━━━━━━━━━━━━\n起業の科学ポータル\nhttps://portal.example.com\n━━━━━━━━━━━━━━━━━━━━━━`\n  },\n  {\n    id: 'new_content',\n    name: '新着告知',\n    icon: '📚',\n    description: '新しいコンテンツのお知らせ',\n    subject: '【起業の科学ポータル】新着コンテンツのお知らせ',\n    body: `{{name}}様\n\n起業の科学ポータルに新しいコンテンツが追加されました。\n\n【今週の新着】\n・動画: 「PMFを達成するための5つのステップ」\n・記事: 「スタートアップの資金調達戦略」\n・ケーススタディ: 「LayerXの成長戦略分析」\n\nぜひご覧ください。\n\n━━━━━━━━━━━━━━━━━━━━━━\n起業の科学ポータル\nhttps://portal.example.com\n━━━━━━━━━━━━━━━━━━━━━━`\n  },\n  {\n    id: 'custom',\n    name: 'ゼロから',\n    icon: '✨',\n    description: 'AIでゼロから生成',\n    subject: '',\n    body: ''\n  }\n];\n\n// 調整タイプの定義\nconst adjustmentTypes = [\n  { id: 'urgent', label: '緊急感を出す', icon: Target, color: 'text-red-600 bg-red-50 hover:bg-red-100' },\n  { id: 'casual', label: 'カジュアルに', icon: Smile, color: 'text-yellow-600 bg-yellow-50 hover:bg-yellow-100' },\n  { id: 'formal', label: '丁寧に', icon: FileText, color: 'text-blue-600 bg-blue-50 hover:bg-blue-100' },\n  { id: 'benefits', label: '特典を強調', icon: Gift, color: 'text-green-600 bg-green-50 hover:bg-green-100' },\n];\n\nfunction EmailComposeContent() {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n  const userIdsParam = searchParams.get('userIds');\n  \n  const [selectedUsers, setSelectedUsers] = useState<User[]>([]);\n  const [isLoadingUsers, setIsLoadingUsers] = useState(true);\n  \n  const [subject, setSubject] = useState('');\n  const [body, setBody] = useState('');\n  const [selectedTemplate, setSelectedTemplate] = useState<string>('churn_prevention');\n  const [isEditMode, setIsEditMode] = useState(false);\n  \n  const [sendTiming, setSendTiming] = useState<'immediate' | 'scheduled'>('immediate');\n  const [scheduledDate, setScheduledDate] = useState('');\n  const [scheduledTime, setScheduledTime] = useState('10:00');\n  \n  const [customPrompt, setCustomPrompt] = useState('');\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [lastAdjustment, setLastAdjustment] = useState<string | null>(null);\n  \n  const [previewUser, setPreviewUser] = useState<User | null>(null);\n  \n  // ダイアログ状態\n  const [showSendConfirm, setShowSendConfirm] = useState(false);\n  const [showSaveConfirm, setShowSaveConfirm] = useState(false);\n  const [showSuccessDialog, setShowSuccessDialog] = useState<{\n    isOpen: boolean;\n    title: string;\n    message: string;\n    nextAction: 'users' | 'emails';\n  }>({ isOpen: false, title: '', message: '', nextAction: 'users' });\n  const [isSending, setIsSending] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n\n  useEffect(() => {\n    async function fetchUsers() {\n      if (!userIdsParam) {\n        setIsLoadingUsers(false);\n        return;\n      }\n      \n      try {\n        const res = await fetch('/api/admin/users');\n        if (res.ok) {\n          const data = await res.json();\n          const userIds = userIdsParam.split(',');\n          const users = data.users.filter((u: User) => userIds.includes(u.id));\n          setSelectedUsers(users);\n          if (users.length > 0) {\n            setPreviewUser(users[0]);\n          }\n        }\n      } catch (error) {\n        console.error('Failed to fetch users:', error);\n      } finally {\n        setIsLoadingUsers(false);\n      }\n    }\n    \n    fetchUsers();\n  }, [userIdsParam]);\n\n  // テンプレート選択時に内容を反映\n  useEffect(() => {\n    const template = templates.find(t => t.id === selectedTemplate);\n    if (template && template.id !== 'custom') {\n      setSubject(template.subject);\n      setBody(template.body);\n      setLastAdjustment(null);\n    } else if (template?.id === 'custom') {\n      setSubject('');\n      setBody('');\n    }\n  }, [selectedTemplate]);\n\n  const getDaysRemaining = (trialEndsAt: string) => {\n    const now = new Date();\n    const end = new Date(trialEndsAt);\n    return Math.ceil((end.getTime() - now.getTime()) / (1000 * 60 * 60 * 24));\n  };\n\n  const replaceVariables = (text: string, user: User) => {\n    return text\n      .replace(/\\{\\{name\\}\\}/g, user.display_name || 'お客様')\n      .replace(/\\{\\{email\\}\\}/g, user.email)\n      .replace(/\\{\\{days_remaining\\}\\}/g, String(getDaysRemaining(user.trial_ends_at)))\n      .replace(/\\{\\{plan\\}\\}/g, user.plan_type === 'trial' ? 'トライアル' : '有料');\n  };\n\n  // ワンクリック調整\n  const handleQuickAdjust = async (adjustmentId: string) => {\n    setIsGenerating(true);\n    setLastAdjustment(adjustmentId);\n    \n    await new Promise(resolve => setTimeout(resolve, 1200));\n    \n    const currentTemplate = templates.find(t => t.id === selectedTemplate);\n    let newSubject = subject || currentTemplate?.subject || '';\n    let newBody = body || currentTemplate?.body || '';\n    \n    switch (adjustmentId) {\n      case 'urgent':\n        newSubject = newSubject.replace('のお知らせ', '【重要】残りわずか！');\n        newBody = `{{name}}様\n\n【重要なお知らせ】\n\nトライアル期間終了まで、あと{{days_remaining}}日です！\n\nこの期間を過ぎると、すべてのコンテンツにアクセスできなくなります。\n今すぐ有料会員にアップグレードして、学びを継続しましょう。\n\n▼ 今すぐアップグレード\nhttps://portal.example.com/upgrade\n\n【有料会員の特典】\n・全300本以上の動画が見放題\n・限定コミュニティへのアクセス\n・月1回のオンラインイベント参加権\n\nお見逃しなく！\n\n━━━━━━━━━━━━━━━━━━━━━━\n起業の科学ポータル\n━━━━━━━━━━━━━━━━━━━━━━`;\n        break;\n        \n      case 'casual':\n        newSubject = `あと{{days_remaining}}日！起業の科学ポータルからのお知らせ 👋`;\n        newBody = `{{name}}さん、こんにちは！\n\n起業の科学ポータルをご利用いただきありがとうございます 🙏\n\nトライアル期間があと{{days_remaining}}日で終了します。\n\nもしポータルが役に立っているなら、ぜひ有料会員への切り替えをご検討ください！\n\n有料会員になると...\n✨ 全コンテンツが見放題に\n✨ 限定コミュニティに参加できる\n✨ 毎月のイベントに参加できる\n\nわからないことがあれば、いつでも聞いてくださいね！\n\n━━━━━━━━━━━━━━━━━━━━━━\n起業の科学ポータル\n━━━━━━━━━━━━━━━━━━━━━━`;\n        break;\n        \n      case 'formal':\n        newSubject = '【起業の科学ポータル】トライアル期間終了に関するご案内';\n        newBody = `{{name}}様\n\n平素より起業の科学ポータルをご利用いただき、誠にありがとうございます。\n\nさて、ご利用いただいておりますトライアル期間が、{{days_remaining}}日後に終了いたします。\n\nつきましては、引き続きサービスをご利用いただける有料会員プランへのお切り替えをご検討いただけますと幸いです。\n\n【有料会員プランの特典】\n・全コンテンツへの無制限アクセス\n・新着コンテンツの優先配信\n・限定イベントへのご招待\n・会員専用コミュニティへのアクセス\n\nご不明な点がございましたら、お気軽にお問い合わせくださいませ。\n\n今後とも起業の科学ポータルをよろしくお願い申し上げます。\n\n━━━━━━━━━━━━━━━━━━━━━━\n起業の科学ポータル運営事務局\n━━━━━━━━━━━━━━━━━━━━━━`;\n        break;\n        \n      case 'benefits':\n        newSubject = '【起業の科学ポータル】有料会員の特典をご紹介 🎁';\n        newBody = `{{name}}様\n\n起業の科学ポータルをご利用いただきありがとうございます。\n\nトライアル期間終了まで残り{{days_remaining}}日となりました。\nこの機会に、有料会員になるとどんな特典があるかご紹介させてください！\n\n━━━━━━━━━━━━━━━━━━━━━━\n🎁 有料会員だけの5つの特典\n━━━━━━━━━━━━━━━━━━━━━━\n\n【特典1】全300本以上の動画が見放題\nPMF達成、資金調達、チームビルディングなど、\n起業に必要な知識を網羅した動画コンテンツにアクセスできます。\n\n【特典2】限定コミュニティ\n同じ志を持つ起業家仲間とつながれる\nSlackコミュニティにご招待します。\n\n【特典3】月1回のオンラインイベント\n田所雅之による最新トレンド解説や\nQ&Aセッションに参加できます。\n\n【特典4】新着コンテンツの優先配信\n新しい動画や記事をいち早くお届けします。\n\n【特典5】1on1メンタリング割引\n有料会員限定で、メンタリングを特別価格でご提供します。\n\n━━━━━━━━━━━━━━━━━━━━━━\n\n▼ 今すぐ有料会員になる\nhttps://portal.example.com/upgrade\n\nご質問があれば、お気軽にお問い合わせください。\n\n━━━━━━━━━━━━━━━━━━━━━━\n起業の科学ポータル\n━━━━━━━━━━━━━━━━━━━━━━`;\n        break;\n    }\n    \n    setSubject(newSubject);\n    setBody(newBody);\n    setIsGenerating(false);\n  };\n\n  // カスタム指示での生成\n  const handleCustomGenerate = async () => {\n    if (!customPrompt.trim()) return;\n    \n    setIsGenerating(true);\n    await new Promise(resolve => setTimeout(resolve, 1500));\n    \n    const newSubject = `【起業の科学ポータル】${customPrompt.slice(0, 15)}...`;\n    const newBody = `{{name}}様\n\nいつも起業の科学ポータルをご利用いただきありがとうございます。\n\n${customPrompt}\n\n【ご案内】\nトライアル期間は残り{{days_remaining}}日です。\nぜひこの機会に有料会員へのアップグレードをご検討ください。\n\nご不明な点がございましたら、お気軽にお問い合わせください。\n\n━━━━━━━━━━━━━━━━━━━━━━\n起業の科学ポータル\nhttps://portal.example.com\n━━━━━━━━━━━━━━━━━━━━━━`;\n\n    setSubject(newSubject);\n    setBody(newBody);\n    setIsGenerating(false);\n    setCustomPrompt('');\n    setLastAdjustment('custom');\n  };\n\n  // テンプレートに戻す\n  const handleResetToTemplate = () => {\n    const template = templates.find(t => t.id === selectedTemplate);\n    if (template) {\n      setSubject(template.subject);\n      setBody(template.body);\n      setLastAdjustment(null);\n    }\n  };\n\n  const removeUser = (userId: string) => {\n    const newUsers = selectedUsers.filter(u => u.id !== userId);\n    setSelectedUsers(newUsers);\n    if (previewUser?.id === userId && newUsers.length > 0) {\n      setPreviewUser(newUsers[0]);\n    }\n  };\n\n  const getRiskBadge = (risk: string | null) => {\n    switch (risk) {\n      case 'high': return <span className=\"text-xs text-red-600\">🔴高</span>;\n      case 'medium': return <span className=\"text-xs text-yellow-600\">🟡中</span>;\n      case 'low': return <span className=\"text-xs text-green-600\">🟢低</span>;\n      default: return null;\n    }\n  };\n\n  // 送信処理\n  const handleSend = async () => {\n    setIsSending(true);\n    await new Promise(resolve => setTimeout(resolve, 1500));\n    setIsSending(false);\n    setShowSendConfirm(false);\n    setShowSuccessDialog({\n      isOpen: true,\n      title: '送信完了',\n      message: 'メールを送信しました。',\n      nextAction: 'emails'\n    });\n  };\n\n  // 下書き保存処理\n  const handleSave = async () => {\n    setIsSaving(true);\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    setIsSaving(false);\n    setShowSaveConfirm(false);\n    setShowSuccessDialog({\n      isOpen: true,\n      title: '保存完了',\n      message: '下書きを保存しました。メール管理画面から確認できます。',\n      nextAction: 'emails'\n    });\n  };\n\n  // 送信ボタンクリック\n  const handleSendClick = () => {\n    if (selectedUsers.length === 0 || !subject || !body) return;\n    setShowSendConfirm(true);\n  };\n\n  // 下書き保存ボタンクリック\n  const handleSaveClick = () => {\n    if (!subject && !body) return;\n    setShowSaveConfirm(true);\n  };\n\n  // 成功ダイアログを閉じる\n  const handleSuccessClose = () => {\n    const nextAction = showSuccessDialog.nextAction;\n    setShowSuccessDialog({ isOpen: false, title: '', message: '', nextAction: 'users' });\n    if (nextAction === 'emails') {\n      router.push('/admin/email');\n    } else {\n      router.push('/admin/users');\n    }\n  };\n\n  const canSend = selectedUsers.length > 0 && subject && body;\n  const canSave = subject || body;\n\n  if (isLoadingUsers) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <Loader2 className=\"w-8 h-8 animate-spin text-blue-500\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* ヘッダー */}\n      <div className=\"bg-white border-b sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <Link href=\"/admin/email\" className=\"text-gray-500 hover:text-gray-700 flex items-center gap-1\">\n              <ArrowLeft className=\"w-5 h-5\" /><span className=\"text-sm\">メール管理に戻る</span>\n            </Link>\n            <h1 className=\"text-xl font-bold\">メール作成</h1>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <button \n              onClick={handleSaveClick}\n              disabled={!canSave}\n              className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <Save className=\"w-4 h-4\" /> 下書き保存\n            </button>\n            <button \n              onClick={handleSendClick}\n              disabled={!canSend}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <Send className=\"w-4 h-4\" /> \n              {sendTiming === 'immediate' ? '送信確認' : 'スケジュール設定'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 py-6\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* 左カラム */}\n          <div className=\"space-y-6\">\n            {/* 宛先 */}\n            <div className=\"bg-white rounded-lg border p-4\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h2 className=\"font-medium flex items-center gap-2\">\n                  <Users className=\"w-4 h-4 text-gray-500\" />\n                  宛先 ({selectedUsers.length}人)\n                </h2>\n              </div>\n              \n              {selectedUsers.length === 0 ? (\n                <div className=\"text-center py-4\">\n                  <p className=\"text-gray-500 text-sm mb-2\">ユーザーが選択されていません</p>\n                  <Link\n                    href=\"/admin/users\"\n                    className=\"text-blue-600 text-sm hover:underline\"\n                  >\n                    ユーザー管理画面で選択する →\n                  </Link>\n                </div>\n              ) : (\n                <div className=\"space-y-2 max-h-32 overflow-y-auto\">\n                  {selectedUsers.map(user => (\n                    <div \n                      key={user.id}\n                      className={`flex items-center justify-between p-2 rounded-lg cursor-pointer transition ${\n                        previewUser?.id === user.id ? 'bg-blue-50 border border-blue-200' : 'bg-gray-50 hover:bg-gray-100'\n                      }`}\n                      onClick={() => setPreviewUser(user)}\n                    >\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"text-sm font-medium truncate\">\n                          {user.display_name || '(名前未設定)'}\n                        </div>\n                        <div className=\"text-xs text-gray-500 truncate\">{user.email}</div>\n                      </div>\n                      <div className=\"flex items-center gap-2 ml-2\">\n                        {getRiskBadge(user.churnRisk)}\n                        <button \n                          onClick={(e) => { e.stopPropagation(); removeUser(user.id); }}\n                          className=\"p-1 hover:bg-gray-200 rounded\"\n                        >\n                          <X className=\"w-3 h-3 text-gray-400\" />\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* ステップ1: テンプレート選択 */}\n            <div className=\"bg-white rounded-lg border p-4\">\n              <h2 className=\"font-medium mb-3 flex items-center gap-2\">\n                <span className=\"bg-blue-100 text-blue-700 text-xs font-bold px-2 py-0.5 rounded\">1</span>\n                テンプレートを選択\n              </h2>\n              <div className=\"grid grid-cols-4 gap-2\">\n                {templates.map(template => (\n                  <button\n                    key={template.id}\n                    onClick={() => setSelectedTemplate(template.id)}\n                    className={`p-3 rounded-lg border text-center transition ${\n                      selectedTemplate === template.id \n                        ? 'border-blue-500 bg-blue-50' \n                        : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'\n                    }`}\n                  >\n                    <div className=\"text-2xl mb-1\">{template.icon}</div>\n                    <div className=\"text-xs font-medium\">{template.name}</div>\n                  </button>\n                ))}\n              </div>\n              {selectedTemplate && (\n                <p className=\"text-xs text-gray-500 mt-2\">\n                  {templates.find(t => t.id === selectedTemplate)?.description}\n                </p>\n              )}\n            </div>\n\n            {/* ステップ2: AIで調整 */}\n            <div className=\"bg-white rounded-lg border p-4\">\n              <h2 className=\"font-medium mb-3 flex items-center gap-2\">\n                <span className=\"bg-blue-100 text-blue-700 text-xs font-bold px-2 py-0.5 rounded\">2</span>\n                <Sparkles className=\"w-4 h-4 text-purple-500\" />\n                AIで調整（オプション）\n              </h2>\n              \n              {/* ワンクリック調整ボタン */}\n              <div className=\"flex flex-wrap gap-2 mb-4\">\n                {adjustmentTypes.map(adj => (\n                  <button\n                    key={adj.id}\n                    onClick={() => handleQuickAdjust(adj.id)}\n                    disabled={isGenerating}\n                    className={`px-3 py-1.5 rounded-lg text-sm flex items-center gap-1.5 transition ${adj.color} ${\n                      lastAdjustment === adj.id ? 'ring-2 ring-offset-1 ring-blue-400' : ''\n                    } disabled:opacity-50`}\n                  >\n                    <adj.icon className=\"w-3.5 h-3.5\" />\n                    {adj.label}\n                  </button>\n                ))}\n              </div>\n              \n              {/* 自由入力 */}\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={customPrompt}\n                  onChange={(e) => setCustomPrompt(e.target.value)}\n                  placeholder=\"または自由に指示... 例: 「もっと短くして」「絵文字を追加」\"\n                  className=\"flex-1 px-3 py-2 border rounded-lg text-sm\"\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter' && customPrompt.trim()) {\n                      handleCustomGenerate();\n                    }\n                  }}\n                />\n                <button\n                  onClick={handleCustomGenerate}\n                  disabled={isGenerating || !customPrompt.trim()}\n                  className=\"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 disabled:opacity-50 flex items-center gap-1.5 text-sm\"\n                >\n                  {isGenerating ? (\n                    <Loader2 className=\"w-4 h-4 animate-spin\" />\n                  ) : (\n                    <Sparkles className=\"w-4 h-4\" />\n                  )}\n                  調整\n                </button>\n              </div>\n              \n              {lastAdjustment && (\n                <button\n                  onClick={handleResetToTemplate}\n                  className=\"mt-2 text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1\"\n                >\n                  <RefreshCw className=\"w-3 h-3\" /> テンプレートに戻す\n                </button>\n              )}\n            </div>\n\n            {/* 件名 */}\n            <div className=\"bg-white rounded-lg border p-4\">\n              <h2 className=\"font-medium flex items-center gap-2 mb-3\">\n                <Mail className=\"w-4 h-4 text-gray-500\" />\n                件名\n              </h2>\n              <input\n                type=\"text\"\n                value={subject}\n                onChange={(e) => setSubject(e.target.value)}\n                placeholder=\"メールの件名を入力...\"\n                className=\"w-full px-3 py-2 border rounded-lg\"\n              />\n            </div>\n\n            {/* 本文（編集モード） */}\n            <div className=\"bg-white rounded-lg border p-4\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h2 className=\"font-medium flex items-center gap-2\">\n                  <Pencil className=\"w-4 h-4 text-gray-500\" />\n                  本文\n                </h2>\n                <button\n                  onClick={() => setIsEditMode(!isEditMode)}\n                  className={`text-xs px-2 py-1 rounded ${\n                    isEditMode ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-600'\n                  }`}\n                >\n                  {isEditMode ? '編集中' : '手動編集'}\n                </button>\n              </div>\n              \n              {isEditMode ? (\n                <>\n                  <textarea\n                    value={body}\n                    onChange={(e) => setBody(e.target.value)}\n                    placeholder=\"メール本文を入力...\"\n                    className=\"w-full px-3 py-2 border rounded-lg h-64 resize-none font-mono text-sm\"\n                  />\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\n                    <span className=\"text-xs text-gray-500\">差し込み変数:</span>\n                    {['{{name}}', '{{email}}', '{{days_remaining}}', '{{plan}}'].map(variable => (\n                      <button\n                        key={variable}\n                        onClick={() => setBody(body + variable)}\n                        className=\"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200\"\n                      >\n                        {variable}\n                      </button>\n                    ))}\n                  </div>\n                </>\n              ) : (\n                <div className=\"bg-gray-50 rounded-lg p-3 text-sm text-gray-700 whitespace-pre-wrap h-64 overflow-y-auto\">\n                  {body || '(本文が未設定です)'}\n                </div>\n              )}\n            </div>\n\n            {/* 送信タイミング */}\n            <div className=\"bg-white rounded-lg border p-4\">\n              <h2 className=\"font-medium flex items-center gap-2 mb-3\">\n                <Clock className=\"w-4 h-4 text-gray-500\" />\n                送信タイミング\n              </h2>\n              <div className=\"space-y-3\">\n                <label className=\"flex items-center gap-2 cursor-pointer\">\n                  <input\n                    type=\"radio\"\n                    name=\"timing\"\n                    checked={sendTiming === 'immediate'}\n                    onChange={() => setSendTiming('immediate')}\n                    className=\"text-blue-600\"\n                  />\n                  <span>即時送信</span>\n                </label>\n                <label className=\"flex items-center gap-2 cursor-pointer\">\n                  <input\n                    type=\"radio\"\n                    name=\"timing\"\n                    checked={sendTiming === 'scheduled'}\n                    onChange={() => setSendTiming('scheduled')}\n                    className=\"text-blue-600\"\n                  />\n                  <span>スケジュール送信</span>\n                </label>\n                \n                {sendTiming === 'scheduled' && (\n                  <div className=\"flex gap-2 ml-6\">\n                    <input\n                      type=\"date\"\n                      value={scheduledDate}\n                      onChange={(e) => setScheduledDate(e.target.value)}\n                      className=\"px-3 py-1.5 border rounded-lg text-sm\"\n                    />\n                    <input\n                      type=\"time\"\n                      value={scheduledTime}\n                      onChange={(e) => setScheduledTime(e.target.value)}\n                      className=\"px-3 py-1.5 border rounded-lg text-sm\"\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* 右カラム: プレビュー */}\n          <div className=\"lg:sticky lg:top-24 lg:self-start\">\n            <div className=\"bg-white rounded-lg border overflow-hidden\">\n              <div className=\"bg-gray-50 border-b px-4 py-3 flex items-center justify-between\">\n                <h2 className=\"font-medium flex items-center gap-2\">\n                  <Eye className=\"w-4 h-4 text-gray-500\" />\n                  プレビュー\n                  {isGenerating && (\n                    <span className=\"text-xs text-purple-600 flex items-center gap-1\">\n                      <Loader2 className=\"w-3 h-3 animate-spin\" /> 生成中...\n                    </span>\n                  )}\n                </h2>\n                {selectedUsers.length > 1 && previewUser && (\n                  <select\n                    value={previewUser.id}\n                    onChange={(e) => {\n                      const user = selectedUsers.find(u => u.id === e.target.value);\n                      if (user) setPreviewUser(user);\n                    }}\n                    className=\"text-sm border rounded px-2 py-1\"\n                  >\n                    {selectedUsers.map(user => (\n                      <option key={user.id} value={user.id}>\n                        {user.display_name || user.email}\n                      </option>\n                    ))}\n                  </select>\n                )}\n              </div>\n              \n              <div className=\"p-4\">\n                {previewUser ? (\n                  <div className=\"border rounded-lg overflow-hidden\">\n                    <div className=\"bg-gray-50 px-4 py-3 border-b space-y-1\">\n                      <div className=\"text-sm\">\n                        <span className=\"text-gray-500\">To:</span> {previewUser.email}\n                      </div>\n                      <div className=\"text-sm\">\n                        <span className=\"text-gray-500\">Subject:</span>{' '}\n                        <span className=\"font-medium\">\n                          {subject ? replaceVariables(subject, previewUser) : '(件名未入力)'}\n                        </span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"p-4 bg-white max-h-[500px] overflow-y-auto\">\n                      <pre className=\"whitespace-pre-wrap font-sans text-sm text-gray-700 leading-relaxed\">\n                        {body ? replaceVariables(body, previewUser) : '(本文未入力)'}\n                      </pre>\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"text-center py-12 text-gray-500\">\n                    宛先を選択するとプレビューが表示されます\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* 送信確認ダイアログ */}\n      <ConfirmDialog\n        isOpen={showSendConfirm}\n        title=\"メールを送信しますか？\"\n        message={\n          <div>\n            <p className=\"mb-2\">以下の内容でメールを送信します。</p>\n            <div className=\"bg-gray-50 rounded-lg p-3 text-sm space-y-1\">\n              <div><span className=\"text-gray-500\">宛先:</span> {selectedUsers.length}人</div>\n              <div className=\"truncate\"><span className=\"text-gray-500\">件名:</span> {subject}</div>\n              <div><span className=\"text-gray-500\">送信:</span> {sendTiming === 'immediate' ? '即時' : `${scheduledDate} ${scheduledTime}`}</div>\n            </div>\n          </div>\n        }\n        onConfirm={handleSend}\n        onCancel={() => setShowSendConfirm(false)}\n        confirmText=\"はい、送信する\"\n        cancelText=\"いいえ\"\n        isLoading={isSending}\n      />\n\n      {/* 下書き保存確認ダイアログ */}\n      <ConfirmDialog\n        isOpen={showSaveConfirm}\n        title=\"下書きを保存しますか？\"\n        message={\n          <div>\n            <p className=\"mb-2\">このメールを下書きとして保存します。</p>\n            <div className=\"bg-gray-50 rounded-lg p-3 text-sm space-y-1\">\n              <div><span className=\"text-gray-500\">宛先:</span> {selectedUsers.length}人</div>\n              <div className=\"truncate\"><span className=\"text-gray-500\">件名:</span> {subject || '(未設定)'}</div>\n            </div>\n            <p className=\"text-xs text-gray-500 mt-2\">\n              保存した下書きは「メール管理」画面から確認・編集できます。\n            </p>\n          </div>\n        }\n        onConfirm={handleSave}\n        onCancel={() => setShowSaveConfirm(false)}\n        confirmText=\"はい、保存する\"\n        cancelText=\"いいえ\"\n        isLoading={isSaving}\n      />\n\n      {/* 成功ダイアログ */}\n      <SuccessDialog\n        isOpen={showSuccessDialog.isOpen}\n        title={showSuccessDialog.title}\n        message={showSuccessDialog.message}\n        onClose={handleSuccessClose}\n        buttonText=\"メール管理へ\"\n      />\n    </div>\n  );\n}\n\nexport default function EmailComposePage() {\n  return (\n    <Suspense fallback={\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <Loader2 className=\"w-8 h-8 animate-spin text-blue-500\" />\n      </div>\n    }>\n      <EmailComposeContent />\n    </Suspense>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M8 14s1.5 2 4 2 4-2 4-2', key: '1y1vjs' }],\n  ['line', { x1: '9', x2: '9.01', y1: '9', y2: '9', key: 'yxxnd0' }],\n  ['line', { x1: '15', x2: '15.01', y1: '9', y2: '9', key: '1p4y9e' }],\n];\n\n/**\n * @component @name Smile\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNOCAxNHMxLjUgMiA0IDIgNC0yIDQtMiIgLz4KICA8bGluZSB4MT0iOSIgeDI9IjkuMDEiIHkxPSI5IiB5Mj0iOSIgLz4KICA8bGluZSB4MT0iMTUiIHgyPSIxNS4wMSIgeTE9IjkiIHkyPSI5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/smile\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Smile = createLucideIcon('smile', __iconNode);\n\nexport default Smile;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { x: '3', y: '8', width: '18', height: '4', rx: '1', key: 'bkv52' }],\n  ['path', { d: 'M12 8v13', key: '1c76mn' }],\n  ['path', { d: 'M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7', key: '6wjy6b' }],\n  [\n    'path',\n    {\n      d: 'M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5',\n      key: '1ihvrl',\n    },\n  ],\n];\n\n/**\n * @component @name Gift\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB4PSIzIiB5PSI4IiB3aWR0aD0iMTgiIGhlaWdodD0iNCIgcng9IjEiIC8+CiAgPHBhdGggZD0iTTEyIDh2MTMiIC8+CiAgPHBhdGggZD0iTTE5IDEydjdhMiAyIDAgMCAxLTIgMkg3YTIgMiAwIDAgMS0yLTJ2LTciIC8+CiAgPHBhdGggZD0iTTcuNSA4YTIuNSAyLjUgMCAwIDEgMC01QTQuOCA4IDAgMCAxIDEyIDhhNC44IDggMCAwIDEgNC41LTUgMi41IDIuNSAwIDAgMSAwIDUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/gift\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Gift = createLucideIcon('gift', __iconNode);\n\nexport default Gift;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['circle', { cx: '12', cy: '12', r: '6', key: '1vlfrh' }],\n  ['circle', { cx: '12', cy: '12', r: '2', key: '1c9p78' }],\n];\n\n/**\n * @component @name Target\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/target\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Target = createLucideIcon('target', __iconNode);\n\nexport default Target;\n"],"names":[],"mappings":"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","ignoreList":[1,2,3]}