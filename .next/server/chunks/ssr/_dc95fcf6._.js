module.exports=[54826,(a,b,c)=>{},15299,(a,b,c)=>{a.r(54826);var d=a.r(72131),e=d&&"object"==typeof d&&"default"in d?d:{default:d},f="undefined"!=typeof process&&process.env&&!0,g=function(a){return"[object String]"===Object.prototype.toString.call(a)},h=function(){function a(a){var b=void 0===a?{}:a,c=b.name,d=void 0===c?"stylesheet":c,e=b.optimizeForSpeed,h=void 0===e?f:e;i(g(d),"`name` must be a string"),this._name=d,this._deletedRulePlaceholder="#"+d+"-deleted-rule____{}",i("boolean"==typeof h,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=h,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var b,c=a.prototype;return c.setOptimizeForSpeed=function(a){i("boolean"==typeof a,"`setOptimizeForSpeed` accepts a boolean"),i(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=a,this.inject()},c.isOptimizeForSpeed=function(){return this._optimizeForSpeed},c.inject=function(){var a=this;i(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(b,c){return"number"==typeof c?a._serverSheet.cssRules[c]={cssText:b}:a._serverSheet.cssRules.push({cssText:b}),c},deleteRule:function(b){a._serverSheet.cssRules[b]=null}}},c.getSheetForTag=function(a){if(a.sheet)return a.sheet;for(var b=0;b<document.styleSheets.length;b++)if(document.styleSheets[b].ownerNode===a)return document.styleSheets[b]},c.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},c.insertRule=function(a,b){return i(g(a),"`insertRule` accepts only strings"),"number"!=typeof b&&(b=this._serverSheet.cssRules.length),this._serverSheet.insertRule(a,b),this._rulesCount++},c.replaceRule=function(a,b){this._optimizeForSpeed;var c=this._serverSheet;if(b.trim()||(b=this._deletedRulePlaceholder),!c.cssRules[a])return a;c.deleteRule(a);try{c.insertRule(b,a)}catch(d){f||console.warn("StyleSheet: illegal rule: \n\n"+b+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),c.insertRule(this._deletedRulePlaceholder,a)}return a},c.deleteRule=function(a){this._serverSheet.deleteRule(a)},c.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},c.cssRules=function(){return this._serverSheet.cssRules},c.makeStyleTag=function(a,b,c){b&&i(g(b),"makeStyleTag accepts only strings as second parameter");var d=document.createElement("style");this._nonce&&d.setAttribute("nonce",this._nonce),d.type="text/css",d.setAttribute("data-"+a,""),b&&d.appendChild(document.createTextNode(b));var e=document.head||document.getElementsByTagName("head")[0];return c?e.insertBefore(d,c):e.appendChild(d),d},b=[{key:"length",get:function(){return this._rulesCount}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}(a.prototype,b),a}();function i(a,b){if(!a)throw Error("StyleSheet: "+b+".")}var j=function(a){for(var b=5381,c=a.length;c;)b=33*b^a.charCodeAt(--c);return b>>>0},k={};function l(a,b){if(!b)return"jsx-"+a;var c=String(b),d=a+c;return k[d]||(k[d]="jsx-"+j(a+"-"+c)),k[d]}function m(a,b){var c=a+(b=b.replace(/\/style/gi,"\\/style"));return k[c]||(k[c]=b.replace(/__jsx-style-dynamic-selector/g,a)),k[c]}var n=function(){function a(a){var b=void 0===a?{}:a,c=b.styleSheet,d=void 0===c?null:c,e=b.optimizeForSpeed,f=void 0!==e&&e;this._sheet=d||new h({name:"styled-jsx",optimizeForSpeed:f}),this._sheet.inject(),d&&"boolean"==typeof f&&(this._sheet.setOptimizeForSpeed(f),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var b=a.prototype;return b.add=function(a){var b=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(a.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var c=this.getIdAndRules(a),d=c.styleId,e=c.rules;if(d in this._instancesCounts){this._instancesCounts[d]+=1;return}var f=e.map(function(a){return b._sheet.insertRule(a)}).filter(function(a){return -1!==a});this._indices[d]=f,this._instancesCounts[d]=1},b.remove=function(a){var b=this,c=this.getIdAndRules(a).styleId;if(function(a,b){if(!a)throw Error("StyleSheetRegistry: "+b+".")}(c in this._instancesCounts,"styleId: `"+c+"` not found"),this._instancesCounts[c]-=1,this._instancesCounts[c]<1){var d=this._fromServer&&this._fromServer[c];d?(d.parentNode.removeChild(d),delete this._fromServer[c]):(this._indices[c].forEach(function(a){return b._sheet.deleteRule(a)}),delete this._indices[c]),delete this._instancesCounts[c]}},b.update=function(a,b){this.add(b),this.remove(a)},b.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},b.cssRules=function(){var a=this,b=this._fromServer?Object.keys(this._fromServer).map(function(b){return[b,a._fromServer[b]]}):[],c=this._sheet.cssRules();return b.concat(Object.keys(this._indices).map(function(b){return[b,a._indices[b].map(function(a){return c[a].cssText}).join(a._optimizeForSpeed?"":"\n")]}).filter(function(a){return!!a[1]}))},b.styles=function(a){var b,c;return b=this.cssRules(),void 0===(c=a)&&(c={}),b.map(function(a){var b=a[0],d=a[1];return e.default.createElement("style",{id:"__"+b,key:"__"+b,nonce:c.nonce?c.nonce:void 0,dangerouslySetInnerHTML:{__html:d}})})},b.getIdAndRules=function(a){var b=a.children,c=a.dynamic,d=a.id;if(c){var e=l(d,c);return{styleId:e,rules:Array.isArray(b)?b.map(function(a){return m(e,a)}):[m(e,b)]}}return{styleId:l(d),rules:Array.isArray(b)?b:[b]}},b.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(a,b){return a[b.id.slice(2)]=b,a},{})},a}(),o=d.createContext(null);function p(){return new n}function q(){return d.useContext(o)}function r(a){var b=q();return b&&b.add(a),null}o.displayName="StyleSheetContext",e.default.useInsertionEffect||e.default.useLayoutEffect,r.dynamic=function(a){return a.map(function(a){return l(a[0],a[1])}).join(" ")},c.StyleRegistry=function(a){var b=a.registry,c=a.children,f=d.useContext(o),g=d.useState(function(){return f||b||p()})[0];return e.default.createElement(o.Provider,{value:g},c)},c.createStyleRegistry=p,c.style=r,c.useStyleRegistry=q},31626,(a,b,c)=>{b.exports=a.r(15299).style},47096,a=>{"use strict";var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(50944),f=a.i(36545),g=a.i(83160),h=a.i(14548),i=a.i(33441),j=a.i(92e3),k=a.i(41710),l=a.i(33508),m=a.i(8406),n=a.i(96221),o=a.i(15618),p=a.i(38632),q=a.i(70106);let r=(0,q.default)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);var s=a.i(84922),t=a.i(98554),u=a.i(67329),v=a.i(27120),w=a.i(55442),x=a.i(23025),y=a.i(73320),z=a.i(54933),A=a.i(91965),B=a.i(81560),C=a.i(87654),D=a.i(92759),E=a.i(63588),F=a.i(4720);let G=(0,q.default)("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);var H=a.i(52495),I=a.i(13749),J=a.i(77156);let K=(0,q.default)("chromium",[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),L=(0,q.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),M=(0,q.default)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);var N=a.i(97063),O=a.i(49447),P=a.i(21161),Q=a.i(5784),R=a.i(67552);let S=(0,q.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),T=(0,g.createClient)("https://bfjstgfcvbxlvvodqoxd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJmanN0Z2ZjdmJ4bHZ2b2Rxb3hkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2MDM3NTksImV4cCI6MjA4MzE3OTc1OX0.RF0hN37KQSWNy3YM3JWRJt1D4cIprp9yBizLZY1o8Jk"),U=a=>a.map(a=>{switch(a.type){case"heading2":return`## ${a.content}`;case"heading3":return`### ${a.content}`;case"bullet":return`- ${a.content}`;case"numbered":return`1. ${a.content}`;case"quote":return`> ${a.content}`;case"divider":return"---";case"code":return`\`\`\`
${a.content}
\`\`\``;case"image":return a.imageUrl?`![${a.content||"ç”»åƒ"}](${a.imageUrl})`:"";default:return a.content}}).filter(Boolean).join("\n\n"),V=a=>{if(!a)return[{id:crypto.randomUUID(),type:"paragraph",content:""}];let b=a.replace(/^```markdown\s*/gm,"").replace(/^```\s*$/gm,"").trim().split("\n"),c=[];for(let a of b){let b=a.trim();if(b)if(b.startsWith("# ")&&!b.startsWith("## "))c.push({id:crypto.randomUUID(),type:"heading2",content:b.slice(2)});else if(b.startsWith("## "))c.push({id:crypto.randomUUID(),type:"heading2",content:b.slice(3)});else if(b.startsWith("### "))c.push({id:crypto.randomUUID(),type:"heading3",content:b.slice(4)});else if(b.startsWith("- "))c.push({id:crypto.randomUUID(),type:"bullet",content:b.slice(2)});else if(/^\d+\.\s/.test(b))c.push({id:crypto.randomUUID(),type:"numbered",content:b.replace(/^\d+\.\s/,"")});else if(b.startsWith("> "))c.push({id:crypto.randomUUID(),type:"quote",content:b.slice(2)});else if("---"===b)c.push({id:crypto.randomUUID(),type:"divider",content:""});else if(b.startsWith("![")){let a=b.match(/!\[(.*?)\]\((.*?)\)/);c.push({id:crypto.randomUUID(),type:"image",content:a?.[1]||"",imageUrl:a?.[2]})}else c.push({id:crypto.randomUUID(),type:"paragraph",content:b})}return c.length>0?c:[{id:crypto.randomUUID(),type:"paragraph",content:""}]},W=[{type:"paragraph",icon:r,label:"ãƒ†ã‚­ã‚¹ãƒˆ",description:"æœ¬æ–‡ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã§ãã¾ã™ã€‚",exampleTitle:"ãƒ†ã‚­ã‚¹ãƒˆ",exampleContent:"æœ¬æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚"},{type:"image",icon:p.Image,label:"ç”»åƒ",description:"ç”»åƒã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚",showImageExample:!0},{type:"heading2",icon:s.Heading1,label:"å¤§è¦‹å‡ºã—",description:"å¤§ãã„æ–‡å­—ã§ã€è¦‹å‡ºã—ã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚",exampleTitle:"ã“ã®å‹•ç”»ã®æ ¸å¿ƒï¼ˆå¤§è¦‹å‡ºã—ï¼‰",exampleContent:"ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¿ã‚¤ãƒˆãƒ«ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚"},{type:"heading3",icon:t.Heading2,label:"å°è¦‹å‡ºã—",description:"ã‚„ã‚„å¤§ãã„æ–‡å­—ã§ã€å°è¦‹å‡ºã—ã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚",exampleTitle:"å…·ä½“çš„ãªäº‹ä¾‹ï¼ˆå°è¦‹å‡ºã—ï¼‰",exampleContent:"å¤§è¦‹å‡ºã—ã®ä¸‹ã«é…ç½®ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚"},{type:"bullet",icon:u.List,label:"ç®‡æ¡æ›¸ããƒªã‚¹ãƒˆ",description:"ãƒ»ã§å§‹ã¾ã‚‹ãƒªã‚¹ãƒˆã‚’ä½œæˆã§ãã¾ã™ã€‚",exampleTitle:"ç®‡æ¡æ›¸ãã®ä¾‹",exampleContent:"ãƒ»ãƒã‚¤ãƒ³ãƒˆ1\nãƒ»ãƒã‚¤ãƒ³ãƒˆ2"},{type:"numbered",icon:v.ListOrdered,label:"ç•ªå·ä»˜ããƒªã‚¹ãƒˆ",description:"ç•ªå·ä»˜ãã®ãƒªã‚¹ãƒˆã‚’ä½œæˆã§ãã¾ã™ã€‚",exampleTitle:"ç•ªå·ä»˜ããƒªã‚¹ãƒˆã®ä¾‹",exampleContent:"1. æœ€åˆã®ã‚¹ãƒ†ãƒƒãƒ—\n2. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—"},{type:"quote",icon:w.Quote,label:"å¼•ç”¨",description:"å¼•ç”¨æ–‡ã‚’è£…é£¾ä»˜ãã§è¡¨ç¤ºã§ãã¾ã™ã€‚",exampleTitle:"å¼•ç”¨ã®ä¾‹",exampleContent:"ã€Œé¡§å®¢ãŒæœ¬å½“ã«æ¬²ã—ã„ã‚‚ã®ã¯...ã€"},{type:"code",icon:M,label:"ã‚³ãƒ¼ãƒ‰",description:"ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚",exampleTitle:"ã‚³ãƒ¼ãƒ‰ã®ä¾‹",exampleContent:"const x = 1;"},{type:"divider",icon:x.Minus,label:"åŒºåˆ‡ã‚Šç·š",description:"ã‚»ã‚¯ã‚·ãƒ§ãƒ³é–“ã«åŒºåˆ‡ã‚Šç·šã‚’å…¥ã‚Œã¾ã™ã€‚",showDividerExample:!0}],X=["èµ·æ¥­","ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—","PMF","MVP","èµ·æ¥­ã®ç§‘å­¦","ãƒ“ã‚¸ãƒã‚¹","ãƒžãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°","è³‡é‡‘èª¿é”"],Y=[{id:"beginner",label:"å…¥é–€ç·¨",icon:"ðŸ‘¶",desc:"åˆå¿ƒè€…å‘ã‘ãƒ»ã‚„ã•ã—ã„è§£èª¬",chars:"ç´„1,500å­—",cost:{usd:.04,jpy:6}},{id:"practical",label:"å®Ÿè·µç·¨",icon:"ðŸŽ¯",desc:"ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é‡è¦–ãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯",chars:"ç´„1,800å­—",cost:{usd:.04,jpy:6}},{id:"advanced",label:"æ·±æŽ˜ã‚Šç·¨",icon:"ðŸ”¬",desc:"ä¸Šç´šè€…å‘ã‘ãƒ»æœ¬è³ªçš„è€ƒå¯Ÿ",chars:"ç´„2,000å­—",cost:{usd:.04,jpy:6}}],Z=({message:a,type:c,onClose:d})=>(0,b.jsxs)("div",{className:`fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50 animate-slide-up ${"success"===c?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:["success"===c?(0,b.jsx)(i.Check,{className:"w-4 h-4"}):(0,b.jsx)(j.AlertCircle,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:a}),(0,b.jsx)("button",{onClick:d,className:"ml-2 hover:opacity-70",children:(0,b.jsx)(l.X,{className:"w-4 h-4"})})]});function $(){let a=(0,e.useParams)(),g=(0,e.useRouter)(),{profile:i}=(0,f.useAuth)(),j=a.videoId,[q,r]=(0,d.useState)(null),[s,t]=(0,d.useState)(!0),[u,v]=(0,d.useState)(!1),[w,x]=(0,d.useState)(null),[M,$]=(0,d.useState)(null),[_,aa]=(0,d.useState)([{id:crypto.randomUUID(),type:"paragraph",content:""}]),[ab,ac]=(0,d.useState)(null),[ad,ae]=(0,d.useState)(null),[af,ag]=(0,d.useState)(null),[ah,ai]=(0,d.useState)(!1),[aj,ak]=(0,d.useState)(!1),[al,am]=(0,d.useState)(!1),[an,ao]=(0,d.useState)([]),[ap,aq]=(0,d.useState)(""),[ar,as]=(0,d.useState)(!1),[at,au]=(0,d.useState)(!1),[av,aw]=(0,d.useState)(!1),[ax,ay]=(0,d.useState)([]),[az,aA]=(0,d.useState)(!1),[aB,aC]=(0,d.useState)(!1),[aD,aE]=(0,d.useState)(!0),[aF,aG]=(0,d.useState)("generate"),[aH,aI]=(0,d.useState)(""),[aJ,aK]=(0,d.useState)("practical"),[aL,aM]=(0,d.useState)(!1),[aN,aO]=(0,d.useState)([]),[aP,aQ]=(0,d.useState)(""),[aR,aS]=(0,d.useState)(null),[aT,aU]=(0,d.useState)(!1),[aV,aW]=(0,d.useState)(!1),aX=(0,d.useRef)(null),aY=(0,d.useRef)(null),aZ=(0,d.useRef)({}),[a$,a_]=(0,d.useState)(420),[a0,a1]=(0,d.useState)(!1),a2=(0,d.useRef)(null),[a3,a4]=(0,d.useState)(!1),[a5,a6]=(0,d.useState)(null),[a7,a8]=(0,d.useState)(!1),a9=_.reduce((a,b)=>a+b.content.length,0),ba=aH.length,bb=aH.trim().length>0,[bc,bd]=(0,d.useState)(!0);(0,d.useEffect)(()=>{},[]);let be=(0,d.useCallback)(a=>{a.preventDefault(),a1(!0)},[]);(0,d.useEffect)(()=>{let a=a=>{a0&&a_(Math.max(320,Math.min(600,a.clientX)))},b=()=>{a1(!1)};return a0&&(document.addEventListener("mousemove",a),document.addEventListener("mouseup",b),document.body.style.cursor="col-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",b),document.body.style.cursor="",document.body.style.userSelect=""}},[a0]),(0,d.useEffect)(()=>{bf(),bg()},[j]),(0,d.useEffect)(()=>(aT&&(aX.current&&clearTimeout(aX.current),aX.current=setTimeout(()=>bh(!0),1e3)),()=>{aX.current&&clearTimeout(aX.current)}),[_,aT]),(0,d.useEffect)(()=>{let a=a=>{aT&&(a.preventDefault(),a.returnValue="")};return window.addEventListener("beforeunload",a),()=>window.removeEventListener("beforeunload",a)},[aT]);let bf=async()=>{try{let a=await fetch(`/api/admin/videos/${j}`);if(a.ok){let b=await a.json();r(b.video),aa(V(b.video.article_content||"")),ag(b.video.article_cover_url||null),ao(b.video.article_tags||[]),aI(b.video.transcript||"")}else x("å‹•ç”»ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")}catch{x("èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼")}finally{t(!1)}},bg=async()=>{aA(!0);try{let a=await fetch(`/api/admin/videos/${j}/versions`);if(a.ok){let b=await a.json();ay(b.versions||[])}}catch{}finally{aA(!1)}},bh=async(a=!1)=>{v(!0),x(null);try{let b=U(_),c=await fetch(`/api/admin/videos/${j}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({article_content:b,article_cover_url:af,article_tags:an,article_status:"draft",transcript:aH})});if(c.ok)aS(new Date),aU(!1),a||($("ä¸‹æ›¸ãã‚’ä¿å­˜ã—ã¾ã—ãŸ"),setTimeout(()=>$(null),3e3));else{let a=await c.json();x(a.error||"ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ")}}catch{x("ä¿å­˜ã‚¨ãƒ©ãƒ¼")}finally{v(!1)}},bi=async()=>{aT&&await bh(!1),g.push("/admin/contents")},bj=async()=>{au(!0),x(null);try{let a=U(_),b=await fetch(`/api/admin/videos/${j}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({article_content:a,article_cover_url:af,article_tags:an,article_status:"published",article_published_at:new Date().toISOString()})});if(b.ok)$("è¨˜äº‹ã‚’å…¬é–‹ã—ã¾ã—ãŸï¼"),as(!1),setTimeout(()=>{g.push(`/videos/${j}`)},1500);else{let a=await b.json();x(a.error||"å…¬é–‹ã«å¤±æ•—ã—ã¾ã—ãŸ")}}catch{x("å…¬é–‹ã‚¨ãƒ©ãƒ¼")}finally{au(!1)}},bk=(a,b)=>{let c={id:crypto.randomUUID(),type:b,content:""},d=_.findIndex(b=>b.id===a),e=[..._];e.splice(d+1,0,c),aa(e),ac(null),ae(null),aU(!0),setTimeout(()=>{aZ.current[c.id]?.focus()},50)},bl=async a=>{let b=a.target.files?.[0];if(b){ak(!0),ai(!1);try{let a=b.name.split(".").pop(),c=`${j}-${Date.now()}.${a}`,{error:d}=await T.storage.from("article-covers").upload(c,b);if(d)throw d;let{data:{publicUrl:e}}=T.storage.from("article-covers").getPublicUrl(c);ag(e),aU(!0)}catch{x("ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ")}finally{ak(!1)}}},bm=async()=>{if(q){am(!0),ai(!1);try{let a=await fetch(`/api/admin/videos/${j}/generate-cover`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),b=await a.json();a.ok&&b.coverUrl?(ag(b.coverUrl),aU(!0),$(`ã‚«ãƒãƒ¼ç”»åƒã‚’ç”Ÿæˆã—ã¾ã—ãŸï¼ˆFlux 1.1 Proãƒ»ã‚³ã‚¹ãƒˆ: \xa5${b.cost?.jpy||6}ï¼‰`),setTimeout(()=>$(null),5e3)):x(b.error||"ç”»åƒç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ")}catch{x("ç”»åƒç”Ÿæˆã‚¨ãƒ©ãƒ¼")}finally{am(!1)}}},bn=async()=>{if(!bb)return void x("æ–‡å­—èµ·ã“ã—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");if(a9>0)try{await fetch(`/api/admin/videos/${j}/versions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:U(_),tone_type:"manual",tone_label:"æ‰‹å‹•ç·¨é›†"})})}catch(a){console.error("Failed to save current version:",a)}let a=new AbortController;a6(a),aM(!0);try{let b=await fetch(`/api/admin/videos/${j}/generate-article`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tone:aJ}),signal:a.signal}),c=await b.json();if(b.ok&&c.articles?.[0]){let a=c.articles[0];aa(V(a.content)),aU(!0),await fetch(`/api/admin/videos/${j}/versions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:a.content,tone_type:a.tone_type,tone_label:a.tone_label})}),bg();let b=Y.find(a=>a.id===aJ);$(`${a.tone_label}ã‚’ç”Ÿæˆã—ã¾ã—ãŸï¼ˆã‚³ã‚¹ãƒˆ: ç´„\xa5${b?.cost.jpy||6}ï¼‰`),setTimeout(()=>$(null),5e3)}else x(c.error||"è¨˜äº‹ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ")}catch(a){"AbortError"===a.name?($("ç”Ÿæˆã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã—ãŸ"),setTimeout(()=>$(null),3e3)):x("è¨˜äº‹ç”Ÿæˆã‚¨ãƒ©ãƒ¼")}finally{aM(!1),a6(null)}},bo=async()=>{if(aP.trim()){aQ(""),aO(a=>[...a,{role:"user",content:aP}]),aM(!0);try{let a=U(_),b=await fetch("/api/admin/ai-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:aP,context:{title:q?.title,currentContent:a,transcript:aH?.substring(0,3e3)}})}),c=await b.json();b.ok&&c.response?aO(a=>[...a,{role:"assistant",content:c.response}]):aO(a=>[...a,{role:"assistant",content:"ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚"}])}catch{aO(a=>[...a,{role:"assistant",content:"ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚"}])}finally{aM(!1)}}},bp=a=>{let b=a.replace(/^#/,"").trim();b&&!an.includes(b)&&ao([...an,b]),aq("")},bq=async a=>{console.log("=== Starting restore for version:",a,"===");try{let b=await fetch(`/api/admin/videos/${j}/versions/${a}`);if(console.log("Fetch response status:",b.status),!b.ok){console.error("Fetch failed with status:",b.status),x("å¾©å…ƒã«å¤±æ•—ã—ã¾ã—ãŸ");return}let c=await b.json();console.log("Version data received:",c);let d=c.version?.content;if(!d){console.error("No content in version data"),x("å¾©å…ƒã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“");return}if(console.log("Content found, length:",d.length),a9>0){console.log("Saving backup of current content...");try{let a=await fetch(`/api/admin/videos/${j}/versions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:U(_),tone_type:"backup",tone_label:"å¾©å…ƒå‰ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—"})});console.log("Backup response status:",a.status)}catch(a){console.warn("Backup failed, but continuing with restore:",a)}}aw(!1),console.log("Parsing markdown to blocks...");let e=V(d).map(a=>({...a,id:crypto.randomUUID()}));console.log("Parsed blocks count:",e.length),console.log("First block content:",e[0]?.content?.substring(0,50)),aa([]),setTimeout(()=>{console.log("Setting new blocks..."),aa(e),aU(!0),$("å±¥æ­´ã‚’å¾©å…ƒã—ã¾ã—ãŸ"),setTimeout(()=>$(null),3e3),console.log("=== Restore complete! ===")},50),bg()}catch(a){console.error("Restore error:",a),x("å¾©å…ƒã«å¤±æ•—ã—ã¾ã—ãŸ")}};return i?s?(0,b.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,b.jsx)(n.Loader2,{className:"w-8 h-8 animate-spin text-gray-400"})}):w&&!q?(0,b.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-red-600",children:w})}):(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 min-h-screen bg-white flex",children:[aD&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{style:{width:a$},className:"jsx-70ce26a9abc762e7 flex flex-col bg-gray-50 shrink-0 relative",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 p-4 border-b border-gray-200 bg-white flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center gap-2",children:[(0,b.jsx)(m.Sparkles,{className:"w-5 h-5 text-green-600"}),(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 font-semibold",children:"AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ"})]}),(0,b.jsx)("button",{onClick:()=>aE(!1),className:"jsx-70ce26a9abc762e7 p-1 hover:bg-gray-100 rounded",children:(0,b.jsx)(I.ChevronLeft,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex border-b border-gray-200 bg-white",children:[(0,b.jsxs)("button",{onClick:()=>aG("generate"),className:`jsx-70ce26a9abc762e7 flex-1 py-3 text-sm font-medium border-b-2 transition ${"generate"===aF?"border-green-600 text-green-600":"border-transparent text-gray-500"}`,children:[(0,b.jsx)(F.FileText,{className:"w-4 h-4 inline mr-1"}),"ä¸‹æ›¸ãç”Ÿæˆ"]}),(0,b.jsxs)("button",{onClick:()=>aG("chat"),className:`jsx-70ce26a9abc762e7 flex-1 py-3 text-sm font-medium border-b-2 transition ${"chat"===aF?"border-green-600 text-green-600":"border-transparent text-gray-500"}`,children:[(0,b.jsx)(E.MessageSquare,{className:"w-4 h-4 inline mr-1"}),"AIã¨ç›¸è«‡"]})]}),"generate"===aF&&(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex-1 overflow-y-auto p-4 space-y-4",children:[q?.video_url&&(0,b.jsx)("a",{href:q.video_url,target:"_blank",rel:"noopener noreferrer",className:"jsx-70ce26a9abc762e7 block p-4 bg-red-50 rounded-xl border-2 border-red-200 hover:border-red-400 hover:bg-red-100 transition group",children:(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 w-16 h-16 bg-red-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:bg-red-700 transition",children:(0,b.jsx)(G,{className:"w-8 h-8 text-white"})}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-sm font-bold text-red-700 mb-1",children:"YouTubeã§é–‹ã"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-red-600 mb-1",children:"æ–‡å­—èµ·ã“ã—ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-600 truncate",children:q.title})]}),(0,b.jsx)(H.ExternalLink,{className:"w-5 h-5 text-red-400 flex-shrink-0 group-hover:text-red-600"})]})}),!bc&&(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 p-3 bg-amber-50 border border-amber-200 rounded-xl",children:(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-start gap-2",children:[(0,b.jsx)(K,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7",children:[(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-sm font-medium text-amber-800",children:"Google Chromeã‚’ãŠä½¿ã„ãã ã•ã„"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-amber-700 mt-1",children:"æ–‡å­—èµ·ã“ã—ã®è‡ªå‹•å–å¾—ã«ã¯Chromeæ‹¡å¼µæ©Ÿèƒ½ãŒå¿…è¦ã§ã™"})]})]})}),(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-start gap-3",children:[(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(L,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex-1",children:[(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-sm font-bold text-blue-800",children:"æ‹¡å¼µæ©Ÿèƒ½ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-blue-700 mt-1 mb-3",children:"YouTube Summary with ChatGPTã§æ–‡å­—èµ·ã“ã—ã‚’ç°¡å˜ã«ã‚³ãƒ”ãƒ¼ã§ãã¾ã™"}),(0,b.jsxs)("a",{href:"https://chrome.google.com/webstore/detail/youtube-summary-with-chat/nmmicjeknamkfloonkhhcjmomieiodli",target:"_blank",rel:"noopener noreferrer",className:"jsx-70ce26a9abc762e7 inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition",children:[(0,b.jsx)(K,{className:"w-4 h-4"}),"Chrome Web Storeã§å…¥æ‰‹",(0,b.jsx)(H.ExternalLink,{className:"w-3 h-3"})]})]})]})}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 bg-white rounded-xl p-4 border border-gray-200",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"jsx-70ce26a9abc762e7 font-medium text-gray-900",children:"æ–‡å­—èµ·ã“ã—"}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center gap-2",children:[bb&&(0,b.jsxs)("span",{className:"jsx-70ce26a9abc762e7 text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[ba.toLocaleString(),"å­—"]}),(0,b.jsx)("button",{onClick:()=>a4(!a3),title:a3?"æŠ˜ã‚ŠãŸãŸã‚€":"å±•é–‹ã™ã‚‹",className:"jsx-70ce26a9abc762e7 p-1 hover:bg-gray-100 rounded",children:a3?(0,b.jsx)(R.ChevronUp,{className:"w-4 h-4"}):(0,b.jsx)(Q.ChevronDown,{className:"w-4 h-4"})})]})]}),(0,b.jsx)("textarea",{value:aH,onChange:a=>{aI(a.target.value),aU(!0)},placeholder:"YouTubeã®æ–‡å­—èµ·ã“ã—ã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘",className:`jsx-70ce26a9abc762e7 w-full p-3 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none transition-all ${a3?"h-64":"h-24"}`}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-400 mt-2",children:"â€» æ–‡å­—èµ·ã“ã—ã¯ä¸‹æ›¸ãä¿å­˜æ™‚ã«è‡ªå‹•ä¿å­˜ã•ã‚Œã¾ã™"})]}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 bg-white rounded-xl p-4 border border-gray-200",children:[(0,b.jsx)("h4",{className:"jsx-70ce26a9abc762e7 font-medium text-gray-900 mb-3",children:"ãƒˆãƒ³ãƒžãƒŠã‚’é¸æŠž"}),(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 space-y-2",children:Y.map(a=>(0,b.jsxs)("button",{onClick:()=>aK(a.id),className:`jsx-70ce26a9abc762e7 w-full p-3 rounded-lg border-2 text-left transition ${aJ===a.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 text-xl",children:a.icon}),(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 font-medium",children:a.label})]}),(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-500",children:a.chars})]}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-500 mt-1 ml-8",children:a.desc}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center gap-1 mt-2 ml-8 group relative",children:[(0,b.jsxs)("span",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-500",children:["Â¥",a.cost.jpy,"/å›ž"]}),(0,b.jsx)(O.HelpCircle,{className:"w-3 h-3 text-gray-400"}),(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 absolute bottom-full left-0 mb-1 hidden group-hover:block bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10",children:"1å›žã®ç”Ÿæˆã‚ãŸã‚Šã«ã‹ã‹ã‚‹è²»ç”¨"})]})]},a.id))})]}),aL?(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 space-y-3",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 w-full py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl font-medium flex flex-col items-center justify-center gap-2",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center gap-2",children:[(0,b.jsx)(n.Loader2,{className:"w-5 h-5 animate-spin"}),(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7",children:"ç”Ÿæˆä¸­..."})]}),(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 w-3/4 h-1 bg-white/30 rounded-full overflow-hidden",children:(0,b.jsx)("div",{style:{width:"60%"},className:"jsx-70ce26a9abc762e7 h-full bg-white rounded-full animate-pulse"})}),(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 text-xs text-white/80",children:"ç´„30ç§’ã‹ã‹ã‚Šã¾ã™"})]}),(0,b.jsx)("button",{onClick:()=>{a5&&a5.abort()},className:"jsx-70ce26a9abc762e7 w-full py-2 border border-gray-300 text-gray-600 rounded-lg text-sm hover:bg-gray-50",children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"})]}):(0,b.jsxs)("button",{onClick:bn,disabled:!bb,className:"jsx-70ce26a9abc762e7 w-full py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl font-medium hover:from-purple-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,b.jsx)(m.Sparkles,{className:"w-5 h-5"}),"ä¸‹æ›¸ãã‚’ç”Ÿæˆï¼ˆÂ¥",Y.find(a=>a.id===aJ)?.cost.jpy,"ï¼‰"]}),!bb&&(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-amber-600 text-center",children:"âš ï¸ æ–‡å­—èµ·ã“ã—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"}),_.length>1&&a9>0&&(0,b.jsxs)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-blue-600 text-center flex items-center justify-center gap-1",children:[(0,b.jsx)(N.Info,{className:"w-3 h-3"}),"ç¾åœ¨ã®è¨˜äº‹ã¯ã€å±¥æ­´ã«æ®‹ã‚Šã„ã¤ã§ã‚‚å¾©å…ƒã§ãã¾ã™"]})]}),"chat"===aF&&(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex-1 flex flex-col",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 p-4 border-b border-gray-200 bg-white",children:[(0,b.jsx)("textarea",{value:aP,onChange:a=>aQ(a.target.value),onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),bo())},placeholder:"AIã«è³ªå•ã‚„ç›¸è«‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ ä¾‹: ã‚¿ã‚¤ãƒˆãƒ«æ¡ˆã‚’3ã¤è€ƒãˆã¦",rows:3,className:"jsx-70ce26a9abc762e7 w-full border border-gray-300 rounded-lg p-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-green-500"}),(0,b.jsxs)("button",{onClick:bo,disabled:!aP.trim()||aL,className:"jsx-70ce26a9abc762e7 mt-2 w-full py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[aL?(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(D.Send,{className:"w-4 h-4"}),"é€ä¿¡"]})]}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex-1 overflow-y-auto p-4 space-y-4",children:[0===aN.length?(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 text-center text-gray-400 py-8",children:[(0,b.jsx)(E.MessageSquare,{className:"w-10 h-10 mx-auto mb-3 text-gray-300"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-sm",children:"ã¾ã ä¼šè©±ãŒã‚ã‚Šã¾ã›ã‚“"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs mt-2",children:"ä¸Šã®å…¥åŠ›æ¬„ã‹ã‚‰è³ªå•ã—ã¦ãã ã•ã„"})]}):aN.map((a,c)=>(0,b.jsx)("div",{className:`jsx-70ce26a9abc762e7 flex ${"user"===a.role?"justify-end":"justify-start"}`,children:(0,b.jsx)("div",{className:`jsx-70ce26a9abc762e7 max-w-[85%] rounded-xl px-4 py-2 text-sm whitespace-pre-wrap ${"user"===a.role?"bg-green-600 text-white":"bg-white border border-gray-200"}`,children:a.content})},c)),aL&&(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 flex justify-start",children:(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 bg-white border border-gray-200 rounded-xl px-4 py-2",children:(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin text-gray-400"})})})]})]})]}),(0,b.jsx)("div",{ref:a2,onMouseDown:be,className:"jsx-70ce26a9abc762e7 w-2 bg-gray-200 hover:bg-blue-400 cursor-col-resize flex items-center justify-center transition-colors group",children:(0,b.jsx)(S,{className:"w-3 h-3 text-gray-400 group-hover:text-white"})})]}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex-1 flex flex-col min-w-0",children:[(0,b.jsx)("header",{className:"jsx-70ce26a9abc762e7 sticky top-0 bg-white border-b border-gray-200 z-20",children:(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center justify-between px-4 py-3",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center gap-3",children:[!aD&&(0,b.jsxs)("button",{onClick:()=>aE(!0),className:"jsx-70ce26a9abc762e7 flex items-center gap-2 px-3 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition",children:[(0,b.jsx)(m.Sparkles,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 text-sm font-medium",children:"AI"})]}),(0,b.jsxs)("button",{onClick:()=>{aT?a8(!0):g.push("/admin/contents")},className:"jsx-70ce26a9abc762e7 text-gray-600 hover:text-gray-900 text-sm flex items-center gap-1",children:[aT&&(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 w-2 h-2 bg-orange-400 rounded-full"}),"é–‰ã˜ã‚‹"]})]}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center gap-4 text-sm text-gray-500",children:[aR&&(0,b.jsxs)("span",{className:"jsx-70ce26a9abc762e7 flex items-center gap-1",children:[(0,b.jsx)(k.Clock,{className:"w-3 h-3"}),aR.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})]}),(0,b.jsxs)("span",{className:"jsx-70ce26a9abc762e7",children:[a9.toLocaleString()," æ–‡å­—"]}),aT&&(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 text-orange-500 text-xs",children:"æœªä¿å­˜"})]}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>aC(!0),title:"ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",className:"jsx-70ce26a9abc762e7 p-2 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(J.Eye,{className:"w-5 h-5 text-gray-600"})}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 relative",children:[(0,b.jsx)("button",{onClick:()=>aW(!aV),title:"è¨­å®š",className:"jsx-70ce26a9abc762e7 p-2 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(P.Settings,{className:"w-5 h-5 text-gray-600"})}),aV&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{onClick:()=>aW(!1),className:"jsx-70ce26a9abc762e7 fixed inset-0 z-40"}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-xl shadow-2xl py-2 z-50",children:[(0,b.jsxs)("button",{onClick:()=>{aw(!0),aW(!1)},className:"jsx-70ce26a9abc762e7 w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[(0,b.jsx)(A.History,{className:"w-4 h-4"}),"å¤‰æ›´å±¥æ­´"]}),(0,b.jsxs)("button",{className:"jsx-70ce26a9abc762e7 w-full px-4 py-2 text-left text-red-600 hover:bg-red-50 flex items-center gap-2",children:[(0,b.jsx)(B.Trash2,{className:"w-4 h-4"}),"å‰Šé™¤"]})]})]})]}),(0,b.jsxs)("button",{onClick:()=>bh(!1),disabled:u,className:"jsx-70ce26a9abc762e7 px-4 py-2 border border-gray-300 rounded-full text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 flex items-center gap-2",children:[u?(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(h.Save,{className:"w-4 h-4"}),"ä¸‹æ›¸ãä¿å­˜"]}),(0,b.jsx)("button",{onClick:()=>as(!0),disabled:a9<100,className:"jsx-70ce26a9abc762e7 px-4 py-2 bg-green-600 text-white rounded-full text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"å…¬é–‹ã«é€²ã‚€"})]})]})}),(0,b.jsx)("main",{className:"jsx-70ce26a9abc762e7 flex-1 overflow-y-auto",children:(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 max-w-3xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 mb-8",children:[al?(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 w-full aspect-[2/1] border-2 border-dashed border-purple-300 bg-purple-50 rounded-xl flex flex-col items-center justify-center gap-3",children:[(0,b.jsx)(n.Loader2,{className:"w-10 h-10 text-purple-600 animate-spin"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-purple-700 font-medium",children:"Flux 1.1 Pro ã§é«˜å“è³ªã‚«ãƒãƒ¼ç”»åƒã‚’ç”Ÿæˆä¸­..."}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-purple-500 text-sm",children:"15ã€œ30ç§’"})]}):af?(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 relative group",children:[(0,b.jsx)("img",{src:af,alt:"ã‚«ãƒãƒ¼ç”»åƒ",className:"jsx-70ce26a9abc762e7 w-full aspect-[2/1] object-cover rounded-xl"}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl flex items-center justify-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>aY.current?.click(),className:"jsx-70ce26a9abc762e7 px-4 py-2 bg-white text-gray-900 rounded-lg text-sm font-medium",children:"å¤‰æ›´"}),(0,b.jsx)("button",{onClick:()=>{ag(null),aU(!0)},className:"jsx-70ce26a9abc762e7 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium",children:"å‰Šé™¤"})]})]}):(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 relative",children:[(0,b.jsxs)("button",{onClick:()=>ai(!ah),className:"jsx-70ce26a9abc762e7 w-full aspect-[3/1] border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center gap-2 hover:border-gray-400 hover:bg-gray-50 transition",children:[(0,b.jsx)(p.Image,{className:"w-10 h-10 text-gray-400"}),(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 text-gray-500",children:"ã‚«ãƒãƒ¼ç”»åƒã‚’è¿½åŠ "})]}),ah&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{onClick:()=>ai(!1),className:"jsx-70ce26a9abc762e7 fixed inset-0 z-40"}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 absolute left-1/2 -translate-x-1/2 top-full mt-2 w-80 bg-white border border-gray-200 rounded-xl shadow-2xl py-2 z-50",children:[(0,b.jsxs)("button",{onClick:()=>{aY.current?.click(),ai(!1)},className:"jsx-70ce26a9abc762e7 w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3",children:[(0,b.jsx)(y.Upload,{className:"w-5 h-5 text-gray-600"}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7",children:[(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 font-medium",children:"ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-500",children:"è‡ªåˆ†ã®ç”»åƒã‚’ä½¿ç”¨"})]})]}),(0,b.jsxs)("button",{onClick:bm,className:"jsx-70ce26a9abc762e7 w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3",children:[(0,b.jsx)(z.Wand2,{className:"w-5 h-5 text-purple-600"}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex-1",children:[(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 font-medium",children:"AIã§ç”»åƒã‚’ç”Ÿæˆ"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-500",children:"Flux 1.1 Pro ã§è‡ªå‹•ç”Ÿæˆ"})]}),(0,b.jsxs)("span",{className:"jsx-70ce26a9abc762e7 text-lg font-bold text-purple-600",children:["Â¥",6]})]})]})]})]}),(0,b.jsx)("input",{ref:aY,type:"file",accept:"image/*",onChange:bl,className:"jsx-70ce26a9abc762e7 hidden"})]}),(0,b.jsx)("h1",{className:"jsx-70ce26a9abc762e7 text-3xl font-bold text-gray-900 mb-8 text-center",children:q?.title||"è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«"}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 space-y-1",children:[_.map((a,c)=>(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 group relative",children:[(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 absolute -left-14 top-3",children:(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 relative",children:[(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),ac(ab===a.id?null:a.id),ae(null)},className:"jsx-70ce26a9abc762e7 w-8 h-8 flex items-center justify-center rounded-full border border-gray-300 bg-white hover:bg-gray-50 text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity shadow-sm",children:(0,b.jsx)(o.Plus,{className:"w-4 h-4"})}),ab===a.id&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{onClick:()=>{ac(null),ae(null)},className:"jsx-70ce26a9abc762e7 fixed inset-0 z-40"}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 absolute left-10 top-0 flex gap-3 z-50",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 w-56 bg-white border border-gray-200 rounded-xl shadow-2xl py-2 max-h-[70vh] overflow-y-auto",children:[(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 px-4 py-2 text-xs text-gray-500 font-medium border-b border-gray-100 mb-1",children:"æŒ¿å…¥"}),W.map(c=>(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),bk(a.id,c.type)},onMouseEnter:()=>ae(c.type),onMouseLeave:()=>ae(null),className:`jsx-70ce26a9abc762e7 w-full px-4 py-3 text-left flex items-center gap-3 text-sm transition-colors ${ad===c.type?"bg-blue-50 text-blue-700":"hover:bg-gray-50"}`,children:[(0,b.jsx)(c.icon,{className:`w-5 h-5 ${ad===c.type?"text-blue-600":"text-gray-500"}`}),(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 font-medium",children:c.label})]},c.type))]}),ad&&(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 w-72 bg-white border border-gray-200 rounded-xl shadow-2xl overflow-hidden",children:W.filter(a=>a.type===ad).map(a=>(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7",children:[(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 p-4 border-b border-gray-100",children:(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-sm text-gray-700 leading-relaxed",children:a.description})}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 p-4 bg-gray-50",children:[a.showImageExample&&(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 bg-white rounded-lg border border-gray-200 p-3",children:[(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 w-full h-24 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center mb-2",children:(0,b.jsx)(p.Image,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-500 text-center",children:"ç”»åƒã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’å…¥åŠ›"})]}),a.showDividerExample&&(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 bg-white rounded-lg border border-gray-200 p-4",children:(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 space-y-3",children:[(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-500",children:"ã‚»ã‚¯ã‚·ãƒ§ãƒ³1ã®å†…å®¹..."}),(0,b.jsx)("hr",{className:"jsx-70ce26a9abc762e7 border-gray-300"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-500",children:"ã‚»ã‚¯ã‚·ãƒ§ãƒ³2ã®å†…å®¹..."})]})}),a.exampleTitle&&(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 bg-white rounded-lg border border-gray-200 p-3",children:[(0,b.jsx)("p",{className:`jsx-70ce26a9abc762e7 font-bold text-gray-900 mb-2 ${"heading2"===a.type?"text-lg":"heading3"===a.type?"text-base":"text-sm"}`,children:a.exampleTitle}),a.exampleContent&&(0,b.jsx)("div",{className:`jsx-70ce26a9abc762e7 text-xs text-gray-600 whitespace-pre-line ${"quote"===a.type?"pl-3 border-l-2 border-blue-300 italic":"code"===a.type?"font-mono bg-gray-100 p-2 rounded":"bullet"===a.type||"numbered"===a.type?"pl-2":""}`,children:a.exampleContent})]})]})]},a.type))})]})]})]})}),"divider"===a.type?(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 py-6",children:(0,b.jsx)("hr",{className:"jsx-70ce26a9abc762e7 border-gray-300"})}):"image"===a.type?(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 py-4",children:a.imageUrl?(0,b.jsx)("img",{src:a.imageUrl,alt:a.content,className:"jsx-70ce26a9abc762e7 max-w-full rounded-lg"}):(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 hover:bg-gray-50 transition cursor-pointer",children:[(0,b.jsx)(p.Image,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-gray-500 text-sm",children:"ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰"})]})}):(0,b.jsx)("textarea",{ref:b=>{aZ.current[a.id]=b},value:a.content,onChange:b=>{var c,d;return c=a.id,d=b.target.value,void(aa(a=>a.map(a=>a.id===c?{...a,content:d}:a)),aU(!0))},onKeyDown:b=>((a,b)=>{if("Enter"!==a.key||a.shiftKey||(a.preventDefault(),bk(b.id,"paragraph")),"Backspace"===a.key&&""===b.content&&_.length>1){var c;a.preventDefault(),c=b.id,_.length<=1||(aa(a=>a.filter(a=>a.id!==c)),aU(!0));let d=_.findIndex(a=>a.id===b.id);if(d>0){let a=_[d-1];setTimeout(()=>aZ.current[a.id]?.focus(),50)}}})(b,a),placeholder:"heading2"===a.type?"å¤§è¦‹å‡ºã—ã‚’å…¥åŠ›...":"heading3"===a.type?"å°è¦‹å‡ºã—ã‚’å…¥åŠ›...":"quote"===a.type?"å¼•ç”¨æ–‡ã‚’å…¥åŠ›...":"code"===a.type?"ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›...":"bullet"===a.type?"ç®‡æ¡æ›¸ãã®é …ç›®ã‚’å…¥åŠ›...":"numbered"===a.type?"ç•ªå·ä»˜ããƒªã‚¹ãƒˆã®é …ç›®ã‚’å…¥åŠ›...":0===c&&1===_.length?"æœ¬æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚Enterã‚­ãƒ¼ã§æ–°ã—ã„ãƒ–ãƒ­ãƒƒã‚¯ã‚’è¿½åŠ ã§ãã¾ã™ã€‚":"ç¶šãã‚’å…¥åŠ›...",rows:(a=>{switch(a){case"heading2":case"heading3":case"bullet":case"numbered":return 2;case"quote":default:return 4;case"code":return 6}})(a.type),style:{minHeight:"paragraph"===a.type||"quote"===a.type?"100px":"code"===a.type?"150px":"60px"},onInput:b=>{let c=b.target;c.style.height="auto";let d="paragraph"===a.type||"quote"===a.type?100:"code"===a.type?150:60;c.style.height=Math.max(c.scrollHeight,d)+"px"},className:`jsx-70ce26a9abc762e7 w-full resize-none bg-transparent outline-none placeholder-gray-400 ${"heading2"===a.type?"text-2xl font-bold py-4 leading-tight min-h-[3rem]":"heading3"===a.type?"text-xl font-semibold py-3 leading-tight min-h-[2.5rem]":"quote"===a.type?"text-gray-600 italic border-l-4 border-blue-300 pl-4 py-4 bg-blue-50/50 rounded-r-lg leading-relaxed min-h-[6rem]":"bullet"===a.type||"numbered"===a.type?"pl-6 py-3 leading-relaxed min-h-[3rem]":"code"===a.type?"font-mono text-sm bg-gray-100 p-4 rounded-lg leading-relaxed min-h-[8rem]":"py-3 text-gray-800 leading-relaxed min-h-[6rem]"}`}),"paragraph"!==a.type&&"divider"!==a.type&&(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 absolute -left-14 bottom-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-400",children:"heading2"===a.type?"H2":"heading3"===a.type?"H3":"bullet"===a.type?"â€¢":"numbered"===a.type?"1.":"quote"===a.type?'"':"code"===a.type?"</>":"image"===a.type?"ðŸ–¼":""})})]},a.id)),(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 py-6",children:(0,b.jsx)("button",{onClick:()=>{bk(_[_.length-1].id,"paragraph")},className:"jsx-70ce26a9abc762e7 w-8 h-8 flex items-center justify-center rounded-full border border-gray-300 text-gray-400 hover:text-gray-600 hover:border-gray-400 shadow-sm transition-colors",children:(0,b.jsx)(o.Plus,{className:"w-4 h-4"})})})]})]})})]}),aB&&(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 p-4 border-b border-gray-200 flex items-center justify-between bg-white",children:[(0,b.jsx)("h3",{className:"jsx-70ce26a9abc762e7 text-lg font-bold text-gray-900",children:"ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼"}),(0,b.jsx)("button",{onClick:()=>aC(!1),className:"jsx-70ce26a9abc762e7 p-1 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(l.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex-1 overflow-y-auto p-6",children:[af&&(0,b.jsx)("img",{src:af,alt:"ã‚«ãƒãƒ¼",className:"jsx-70ce26a9abc762e7 w-full aspect-[2/1] object-cover rounded-xl mb-6"}),(0,b.jsx)("h1",{className:"jsx-70ce26a9abc762e7 text-2xl font-bold text-gray-900 mb-6",children:q?.title}),an.length>0&&(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 flex flex-wrap gap-2 mb-6",children:an.map(a=>(0,b.jsxs)("span",{className:"jsx-70ce26a9abc762e7 text-sm text-blue-600",children:["#",a]},a))}),(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 prose prose-gray max-w-none",children:_.map(a=>"heading2"===a.type?(0,b.jsx)("h2",{className:"jsx-70ce26a9abc762e7 text-xl font-bold mt-6 mb-3",children:a.content},a.id):"heading3"===a.type?(0,b.jsx)("h3",{className:"jsx-70ce26a9abc762e7 text-lg font-semibold mt-4 mb-2",children:a.content},a.id):"bullet"===a.type?(0,b.jsx)("li",{className:"jsx-70ce26a9abc762e7 ml-4",children:a.content},a.id):"numbered"===a.type?(0,b.jsx)("li",{className:"jsx-70ce26a9abc762e7 ml-4 list-decimal",children:a.content},a.id):"quote"===a.type?(0,b.jsx)("blockquote",{className:"jsx-70ce26a9abc762e7 border-l-4 border-blue-300 pl-4 py-2 bg-blue-50 rounded-r-lg italic text-gray-600",children:a.content},a.id):"code"===a.type?(0,b.jsx)("pre",{className:"jsx-70ce26a9abc762e7 bg-gray-100 p-4 rounded-lg overflow-x-auto",children:(0,b.jsx)("code",{className:"jsx-70ce26a9abc762e7 text-sm",children:a.content})},a.id):"divider"===a.type?(0,b.jsx)("hr",{className:"jsx-70ce26a9abc762e7 my-6"},a.id):"image"===a.type&&a.imageUrl?(0,b.jsx)("img",{src:a.imageUrl,alt:a.content,className:"jsx-70ce26a9abc762e7 rounded-lg my-4"},a.id):(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 mb-4 leading-relaxed",children:a.content},a.id))})]})]})}),av&&(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 bg-white rounded-2xl max-w-lg w-full max-h-[80vh] overflow-hidden",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 p-4 border-b border-gray-200 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"jsx-70ce26a9abc762e7 text-lg font-bold text-gray-900",children:"å¤‰æ›´å±¥æ­´"}),(0,b.jsx)("button",{onClick:()=>aw(!1),className:"jsx-70ce26a9abc762e7 p-1 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(l.X,{className:"w-5 h-5"})})]}),(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 p-4 overflow-y-auto max-h-[60vh]",children:az?(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 text-center py-8",children:(0,b.jsx)(n.Loader2,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"})}):0===ax.length?(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 text-center py-8",children:[(0,b.jsx)(A.History,{className:"w-10 h-10 mx-auto mb-3 text-gray-300"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-gray-500",children:"å±¥æ­´ãŒã‚ã‚Šã¾ã›ã‚“"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-400 mt-1",children:"AIã§ä¸‹æ›¸ãã‚’ç”Ÿæˆã™ã‚‹ã¨å±¥æ­´ãŒä¿å­˜ã•ã‚Œã¾ã™"})]}):(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 space-y-3",children:ax.map(a=>(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 p-4 bg-gray-50 rounded-xl border border-gray-200 hover:border-gray-300 transition",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"jsx-70ce26a9abc762e7 font-medium text-gray-900",children:a.tone_label}),(0,b.jsxs)("button",{onClick:()=>bq(a.id),className:"jsx-70ce26a9abc762e7 text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[(0,b.jsx)(C.RotateCcw,{className:"w-4 h-4"}),"å¾©å…ƒ"]})]}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 text-sm text-gray-500 mb-2",children:[new Date(a.created_at).toLocaleDateString("ja-JP",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})," Â· ",a.char_count.toLocaleString(),"æ–‡å­—"]}),a.content&&(0,b.jsxs)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-400 line-clamp-2 bg-white p-2 rounded border border-gray-100",children:[a.content.replace(/^#+ /gm,"").replace(/\n/g," ").substring(0,100),"..."]})]},a.id))})})]})}),ar&&(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 bg-white rounded-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 p-6 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"jsx-70ce26a9abc762e7 text-xl font-bold text-gray-900",children:"å…¬é–‹è¨­å®š"}),(0,b.jsx)("button",{onClick:()=>as(!1),className:"jsx-70ce26a9abc762e7 p-1 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(l.X,{className:"w-5 h-5"})})]})}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7",children:[(0,b.jsx)("h4",{className:"jsx-70ce26a9abc762e7 font-semibold text-gray-900 mb-3",children:"ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°"}),(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 border border-gray-300 rounded-lg p-3",children:(0,b.jsx)("input",{type:"text",value:ap,onChange:a=>aq(a.target.value),onKeyDown:a=>{("Enter"===a.key||","===a.key)&&(a.preventDefault(),bp(ap))},placeholder:"ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’è¿½åŠ ",className:"jsx-70ce26a9abc762e7 w-full outline-none text-gray-700"})}),an.length>0&&(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 flex flex-wrap gap-2 mt-3",children:an.map(a=>(0,b.jsxs)("span",{className:"jsx-70ce26a9abc762e7 inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:["#",a,(0,b.jsx)("button",{onClick:()=>ao(an.filter(b=>b!==a)),className:"jsx-70ce26a9abc762e7",children:(0,b.jsx)(l.X,{className:"w-3 h-3"})})]},a))}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 mt-4",children:[(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-sm text-gray-500 mb-2",children:"ãŠã™ã™ã‚ã‚¿ã‚°"}),(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 flex flex-wrap gap-2",children:X.filter(a=>!an.includes(a)).map(a=>(0,b.jsxs)("button",{onClick:()=>bp(a),className:"jsx-70ce26a9abc762e7 px-3 py-1 border border-gray-300 text-gray-600 rounded-full text-sm hover:border-gray-400 hover:bg-gray-50",children:["#",a]},a))})]})]}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 bg-gray-50 rounded-xl p-4",children:[(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-sm text-gray-500 mb-2",children:"ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼"}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex gap-4",children:[af&&(0,b.jsx)("img",{src:af,alt:"",className:"jsx-70ce26a9abc762e7 w-24 h-16 object-cover rounded-lg"}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7",children:[(0,b.jsx)("h5",{className:"jsx-70ce26a9abc762e7 font-medium text-gray-900 line-clamp-2",children:q?.title}),(0,b.jsxs)("p",{className:"jsx-70ce26a9abc762e7 text-xs text-gray-500 mt-1",children:[a9.toLocaleString(),"æ–‡å­—"]})]})]})]})]}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 p-6 border-t border-gray-200 flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>as(!1),className:"jsx-70ce26a9abc762e7 flex-1 px-4 py-3 border border-gray-300 rounded-full text-gray-700 font-medium hover:bg-gray-50",children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,b.jsxs)("button",{onClick:bj,disabled:at,className:"jsx-70ce26a9abc762e7 flex-1 px-4 py-3 bg-green-600 text-white rounded-full font-medium hover:bg-green-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[at?(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(D.Send,{className:"w-4 h-4"}),"æŠ•ç¨¿ã™ã‚‹"]})]})]})}),a7&&(0,b.jsx)("div",{className:"jsx-70ce26a9abc762e7 fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 bg-white rounded-2xl max-w-sm w-full p-6",children:[(0,b.jsx)("h3",{className:"jsx-70ce26a9abc762e7 text-lg font-bold text-gray-900 mb-2",children:"å¤‰æ›´ãŒä¿å­˜ã•ã‚Œã¦ã„ã¾ã›ã‚“"}),(0,b.jsx)("p",{className:"jsx-70ce26a9abc762e7 text-gray-600 mb-6",children:"ä¿å­˜ã›ãšã«é–‰ã˜ã‚‹ã¨ã€å¤‰æ›´å†…å®¹ãŒå¤±ã‚ã‚Œã¾ã™ã€‚"}),(0,b.jsxs)("div",{className:"jsx-70ce26a9abc762e7 flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>a8(!1),className:"jsx-70ce26a9abc762e7 flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,b.jsx)("button",{onClick:()=>{a8(!1),g.push("/admin/contents")},className:"jsx-70ce26a9abc762e7 flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"ä¿å­˜ã›ãšé–‰ã˜ã‚‹"}),(0,b.jsx)("button",{onClick:()=>{a8(!1),bi()},className:"jsx-70ce26a9abc762e7 flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"ä¿å­˜ã—ã¦é–‰ã˜ã‚‹"})]})]})}),M&&(0,b.jsx)(Z,{message:M,type:"success",onClose:()=>$(null)}),w&&(0,b.jsx)(Z,{message:w,type:"error",onClose:()=>x(null)}),(0,b.jsx)(c.default,{id:"70ce26a9abc762e7",children:"@keyframes slide-up{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-slide-up{animation:.3s ease-out slide-up}"})]}):(0,b.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-gray-500",children:"ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™"})})}a.s(["default",()=>$],47096)}];

//# sourceMappingURL=_dc95fcf6._.js.map